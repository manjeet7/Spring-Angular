!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={2:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([301,0]),checkDeferredModules()}({301:function(module,exports,__webpack_require__){__webpack_require__(43),module.exports=__webpack_require__(535)},532:function(module,exports,__webpack_require__){},535:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(13),__webpack_require__(14),__webpack_require__(15),__webpack_require__(39),__webpack_require__(11);var defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),react=__webpack_require__(3),react_default=__webpack_require__.n(react),react_dom=__webpack_require__(12),react_addons_css_transition_group=(__webpack_require__(257),__webpack_require__(29),__webpack_require__(41),__webpack_require__(44),__webpack_require__(33),__webpack_require__(31)),react_addons_css_transition_group_default=__webpack_require__.n(react_addons_css_transition_group),objectAssignDeep=__webpack_require__(35),objectAssignDeep_default=__webpack_require__.n(objectAssignDeep),index_esm=__webpack_require__(27),ComponentsFactory=__webpack_require__(9),EventsService=__webpack_require__(4),regenerator=(__webpack_require__(68),__webpack_require__(52),__webpack_require__(476),__webpack_require__(47),__webpack_require__(40),__webpack_require__(70),__webpack_require__(88),__webpack_require__(53),__webpack_require__(69),__webpack_require__(86),__webpack_require__(89),__webpack_require__(10)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=(__webpack_require__(43),__webpack_require__(16)),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),axios=__webpack_require__(22),axios_default=__webpack_require__.n(axios),CHANGE_COLOR_TO_GRAY="CHANGE_COLOR_TO_GRAY",TOGGLE_PREFERENCE="TOGGLE_PREFERENCE",INVERT_IMAGE="INVERT_IMAGE",SET_STATE="SET_STATE",SET_CONFIG="SET_CONFIG",SELECTIVE_CONFIG_RESET="SELECTIVE_CONFIG_RESET",RELOAD_IFRAMES="RELOAD_IFRAMES",HIDE_OR_SHOW="HIDE_OR_SHOW",SET_SELECTED="SET_SELECTED",SET_TEXT="SET_TEXT",SET_PREFERENCES="SET_PREFERENCES",INSERT_INPUT_TO_LOCALSTORAGE="INSERT_INPUT_TO_LOCALSTORAGE",PREFERENCES_DUPLICATOR="PREFERENCES_DUPLICATOR",MARK_TIME="MARK_TIME",PREF_COUNT="PREF_COUNT",FORCE_REPLACE_CONFIG_FUNCTION="FORCE_REPLACE_CONFIG_FUNCTION",DYNAMIC_ACTION_EXECUTION="DYNAMIC_ACTION_EXECUTION",REREGISTER_BEHAVIOURS="REREGISTER_BEHAVIOURS",CHANGE_BACKGROUND="CHANGE_BACKGROUND",CHANGE_FOOTER="CHANGE_FOOTER",RELOAD_BACKGROUND="RELOAD_BACKGROUND",PERSIST_BACKGROUND="PERSIST_BACKGROUND",SET_BORDER_GRAY="SET_BORDER_GRAY",HIDE_WHEN_CLICKED_OUTSIDE="HIDE_WHEN_CLICKED_OUTSIDE",PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE="PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE",HIDE_COMPONENT="HIDE_COMPONENT",SHOW_COMPONENT="SHOW_COMPONENT",SOFT_HIDE_COMPONENT="SOFT_HIDE_COMPONENT",SOFT_SHOW_COMPONENT="SOFT_SHOW_COMPONENT",HIDE_OR_SHOW_FINISHED="HIDE_OR_SHOW_FINISHED",TOGGLE_PREF_FINISHED="TOGGLE_PREF_FINISHED",GET_SEARCH_SUGGESTIONS="GET_SEARCH_SUGGESTIONS",SET_CHROME_POPUP="SET_CHROME_POPUP",CHANGE_SSE_STATE="CHANGE_SSE_STATE",CHANGE_SELECTED="CHANGE_SELECTED",CHANGE_VISIBILITY="CHANGE_VISIBILITY",HIDE="HIDE",UPDATE_WEATHER="UPDATE_WEATHER",UNINSTALL_EXTENSION="UNINSTALL_EXTENSION",PARSE_URL="PARSE_URL",OPEN_WEB_PAGE="OPEN_WEB_PAGE",RELOAD_COMPONENT="RELOAD_COMPONENT",RECONSTRUCT_COMPONENT="RECONSTRUCT_COMPONENT",REDIRECT_CURRENT_TAB="REDIRECT_CURRENT_TAB",SHOW_RATE_US_POPUP="SHOW_RATE_US_POPUP",DO_ACTION_ON_INTERVAL="DO_ACTION_ON_INTERVAL",DO_ACTION_WHEN_CONDITION_MET="DO_ACTION_WHEN_CONDITION_MET",TRIGGER_EVENTS="TRIGGER_EVENTS",CHANGE_TAB_TITLE="CHANGE_TAB_TITLE",SET_SEARCH_ENGINE="SET_SEARCH_ENGINE",LOCK_SETTINGS="LOCK_SETTINGS",TRACK="TRACK",DEBUG="DEBUG",UPDATE_INTERVAL_COMPONENTS="UPDATE_INTERVAL_COMPONENTS",CLOSE_WINDOW="CLOSE_WINDOW",DISABLE_WINDOW_RESIZING="DISABLE_WINDOW_RESIZING",SWITCH_STATE_PARAMS="SWITCH_STATE_PARAMS",BROWSE_FILES="BROWSE_FILES",VALIDATE_FILES_TYPES="VALIDATE_FILES_TYPES",UPDATE_TEXT="UPDATE_TEXT",STORE_FILE="STORE_FILE",UPLOAD_FILE_TO_CONVERT="UPLOAD_FILE_TO_CONVERT",SEND_MESSAGE="SEND_MESSAGE",REMOVE_FILES="REMOVE_FILES",STRINGIFY_BYTES="STRINGIFY_BYTES",STRINGIFY_EPOCH_TIME="STRINGIFY_EPOCH_TIME",GENERATE_FILE_URL="GENERATE_FILE_URL",REPLACE_NEWTAB_WITH_NEWONE="REPLACE_NEWTAB_WITH_NEWONE",REMOVE_PREFERENCES="REMOVE_PREFERENCES",SET_FAVICON="SET_FAVICON",LOAD_STYLESHEET="LOAD_STYLESHEET",HISTORY_BACK="HISTORY_BACK",REPLACE_LOCATION="REPLACE_LOCATION",RELOAD_LOCATION="RELOAD_LOCATION",DISABLE_BROWSER_ACTION="DISABLE_BROWSER_ACTION",ENABLE_BROWSER_ACTION="ENABLE_BROWSER_ACTION",RELOAD_TAB="RELOAD_TAB",GET_MULTI_SEARCH_SUGGESTIONS="GET_MULTI_SEARCH_SUGGESTIONS",GENERIC_REACT_COMP_FUNCTION="GENERIC_REACT_COMP_FUNCTION",LoggerService=__webpack_require__(7),Consts=__webpack_require__(0),Utils=__webpack_require__(1),BrowserService=__webpack_require__(5),ServiceFactory=__webpack_require__(2);__webpack_require__(277);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var FilesService=new class Files{constructor(){this.fileObject={}}getAllFiles(){return this.fileObject}getFileByName(name){return this.fileObject[name]}deleteAllFiles(){return this.fileObject={},!0}deleteFileByName(name){return!!name&&(delete this.fileObject[name],!0)}fileExist(name){return!!name&&this.fileObject[name]}addFiles(fileObject){return this.fileObject=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},this.fileObject,{},fileObject),!0}generateFileUrl(fileName){if(!fileName||!this.fileObject[fileName])return!1;try{return URL.createObjectURL(this.fileObject[fileName])}catch(e){return!1}}},Condition=__webpack_require__(34),ApiAdapter=__webpack_require__(160),HttpService=__webpack_require__(28),TrackingActions=__webpack_require__(72),WebNavigationActions=__webpack_require__(161),ActionsUtils=__webpack_require__(6);function Actions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Actions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Actions_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Actions_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function actionCreator(behaviour){var retFunc,self=this;Object(index_esm.a)();switch(behaviour.do){case REDIRECT_CURRENT_TAB:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(behaviour.url&&"disable"!==behaviour.url&&Object(ActionsUtils.a)(args,behaviour,self)){var url="chrome-search://local-ntp/local-ntp.html"===behaviour.url&&"ff"===BrowserService.a.getBrowserFlavor("short")?"about:newtab":behaviour.url;BrowserService.a.getCurrentTabInfo(tab=>{BrowserService.a.updateTab(tab.id,url)})}};break;case GET_SEARCH_SUGGESTIONS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var suggestUrlType=args.suggestUrlType||behaviour.suggestUrlType||!1,suggestUrl=self.search.getSuggestParam(self.search.getEngineIdByIndex(self.search.getTempOrCurrentSearchEngineIndex()),suggestUrlType,"url");if(suggestUrl){var query=(args.text||"").trim();if(query!==self.state.query){var resetSuggest=()=>{self.setState({rows:[],reset:!0})};if(query){if(behaviour.minTermLength&&query.length<behaviour.minTermLength)return self.setState({query:""}),void resetSuggest();if(behaviour.maxTermLength&&query.length>behaviour.maxTermLength){if(query.slice(0,behaviour.maxTermLength-1)===self.state.query&&self.state.rowsHidden)return;query=query.slice(0,behaviour.maxTermLength-1)}if(self.setState({query:query}),""!==args.text){var locale=BrowserService.a.locale2(),url=Object(Utils.fb)(suggestUrl,{searchTerms:query,lang:locale,country:""}),maxItems=behaviour.maxItems||5;Object(HttpService.a)({method:"get",url:url}).then(res=>{var json=self.search.parseSuggestByConfig(res.data,self.search.getSuggestParam(!1,suggestUrlType,"config"));json[0].indexOf(query)>-1&&self.setState({rows:json[1].slice(0,maxItems),selected:-1,rowsHidden:!1})}).catch(()=>{resetSuggest()})}else self.setState({rows:[]})}else resetSuggest()}}}};break;case GET_MULTI_SEARCH_SUGGESTIONS:retFunc=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark((function _callee(){var args,query,resetSuggest,formatDefaultSearch,applySearchList,basePhFuncs,phFuncArray,_behaviour,apiConfig,suggestUrlType,defaultSuggestUrl,defaultSearchPromise,uDataFetched,pref,isDev,externalApisSearchPromises,searchPromiseArray,searchResults,combinedList,combinationConfig,_pattern,_args=arguments;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(args=_args.length>0&&void 0!==_args[0]?_args[0]:{},Object(ActionsUtils.a)(args,behaviour,self)){_context.next=3;break}return _context.abrupt("return");case 3:if(query=(args.text||"").trim(),self.query=query,resetSuggest=()=>{self.state.rows.length&&self.setState({rowsChanged:!0,rows:[],reset:!0})},query&&!(behaviour.minTermLength&&query.length<behaviour.minTermLength)){_context.next=9;break}return resetSuggest(),_context.abrupt("return");case 9:if(!(behaviour.maxTermLength&&query.length>behaviour.maxTermLength)){_context.next=14;break}if((query=query.slice(0,behaviour.maxTermLength-1))!==self.query||!self.state.rowsHidden){_context.next=14;break}return resetSuggest(),_context.abrupt("return");case 14:return formatDefaultSearch=json=>{var formattedList={},res=self.search.parseSuggestByConfig(json,self.search.getSuggestParam(!1,suggestUrlType,"config")),defaultTracking=_behaviour.defaultSearchSuggestTracking||!1;for(var i in formattedList={$default$:[]},res[1]){var val=res[1][i];formattedList.$default$.push(Object(Utils.bb)({__listId:"defaultSuggest",text:val,tracking:defaultTracking},"{{text}}",val))}return formattedList},applySearchList=list=>{var apiSumString="";if(_behaviour.calcSourcesSummary){var apiSourceSumObject={};for(var li in list)list[li].__listId&&(apiSourceSumObject[list[li].__listId]?apiSourceSumObject[list[li].__listId]++:apiSourceSumObject[list[li].__listId]=1);apiSumString=Object(Utils.T)(apiSourceSumObject,", ","|")}if(apiSumString||_behaviour.impressionEventName)for(var _li in list)_behaviour.trackingParamForApiSourceSumClick&&(list[_li]=Object(Utils.z)(list[_li],_behaviour.trackingParamForApiSourceSumClick,apiSumString||"")),_behaviour.impressionEventName&&EventsService.a.trigger(_behaviour.impressionEventName,[list[_li]]);self.setState({rowsChanged:!0,rows:list,selected:-1,rowsHidden:!1}),_behaviour.uniteImpressionEvent&&!Object(Utils.I)(_behaviour.uniteImpressionEvent)&&(_behaviour.uniteImpressionEvent=Object(Utils.U)(_behaviour.uniteImpressionEvent,_behaviour.uniteImpressionEvent.placeHolderFunctions,{},{args:args,behaviour:behaviour,query:query,apiSumString:apiSumString}),EventsService.a.trigger(_behaviour.uniteImpressionEvent.triggerEventName,[_behaviour.uniteImpressionEvent.triggerEventArgs]))},basePhFuncs=[{paramFromSource:{ph:"{{searchTerm}}",value:encodeURIComponent(query)}}],phFuncArray=Object(Utils.A)(behaviour.placeHolderFunctions)?[...basePhFuncs,...behaviour.placeHolderFunctions]:basePhFuncs,_behaviour=Object(Utils.U)(behaviour,phFuncArray,{},{args:args,behaviour:behaviour,query:query}),apiConfig=_behaviour.apiConfig,suggestUrlType=args.suggestUrlType||_behaviour.suggestUrlType||!1,defaultSuggestUrl=self.search.getDefaultSuggestionURL(suggestUrlType,query),defaultSearchPromise=!_behaviour.disableDefaultSuggest&&defaultSuggestUrl&&Object(HttpService.a)({method:"get",url:defaultSuggestUrl}),uDataFetched=Object(Utils.N)(),pref=ServiceFactory.a.get(Consts.Vb),isDev=pref.get(Consts.tb),externalApisSearchPromises=!(!isDev&&!uDataFetched)&&Object(ApiAdapter.a)(apiConfig,{},!1),searchPromiseArray=[defaultSearchPromise,externalApisSearchPromises],_context.next=30,Promise.all(searchPromiseArray);case 30:return searchResults=_context.sent,_behaviour.disableDefaultSuggest||(searchResults[0]=formatDefaultSearch(searchResults[0].data)),combinedList=Actions_objectSpread({},searchResults[0],{},searchResults[1]),combinationConfig=apiConfig.combinationConfig||!1,_pattern=!(!combinationConfig.pattern||Object(Utils.I)(combinationConfig.pattern))&&combinationConfig.pattern,(combinedList=Object(Utils.Q)(combinedList,_pattern,combinationConfig.maxIterations,combinationConfig.forcePattern)).length=apiConfig.maxItems&&combinedList.length>apiConfig.maxItems?apiConfig.maxItems:combinedList.length,_context.abrupt("return",applySearchList(combinedList));case 38:case"end":return _context.stop()}}),_callee)})));return function retFunc(){return _ref.apply(this,arguments)}}();break;case CHANGE_SELECTED:retFunc=function retFunc(){var selected,args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(args.keyCode===Consts.ub&&self.state.selected>0?selected=--self.state.selected:args.keyCode===Consts.vb&&self.state.selected+1<self.state.rows.length&&(selected=++self.state.selected),this.selected!=selected&&(self.setState({selected:selected}),EventsService.a.trigger(Consts.h,[Actions_objectSpread({},args,{},self.state.rows[selected],{searchObject:self.state.rows[selected]})])))};break;case DEBUG:retFunc=function retFunc(args,args2){Object(ActionsUtils.a)(args,behaviour,self)&&(LoggerService.a.debug("~~~~~DEBUG-START~~~~~"),LoggerService.a.debug(`args: ${JSON.stringify(args)}`),LoggerService.a.debug(`args2: ${JSON.stringify(args2)}`),LoggerService.a.debug(`behave: ${JSON.stringify(behaviour)}`),LoggerService.a.debug("~~~~~DEBUG-END~~~~~"))};break;case BROWSE_FILES:retFunc=function retFunc(args){var f=document.createElement("input");f.style.display="none",f.type="file",f.name="file";var accept=behaviour.accept||args.accept||!1;accept&&(f.accept=accept),f.addEventListener("change",(function(){behaviour.event&&EventsService.a.trigger(behaviour.event,[{files:this.files}])})),f.click()};break;case VALIDATE_FILES_TYPES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var files=!1,deepFiles=behaviour.deepFiles||args.deepFiles||!1;if(deepFiles&&(files=Object(Utils.p)(args,deepFiles)),(files=files||args.files)&&"object"==typeof files&&files.length){var allowedTypes=!!behaviour.allowedTypes&&behaviour.allowedTypes,maxAllowedSize=!!behaviour.maxAllowedSize&&behaviour.maxAllowedSize,maxAllowedLength=!!behaviour.maxAllowedLength&&behaviour.maxAllowedLength,events=behaviour.events?behaviour.events:{success:"VALIDATE_FILE_SUCCESS",size:"VALIDATE_FILE_SIZE_FAIL",type:"VALIDATE_FILE_TYPE_FAIL",amount:"VALIDATE_FILE_AMOUNT_FAIL"};if(allowedTypes&&Array.isArray(allowedTypes)||maxAllowedSize||maxAllowedLength)if(maxAllowedLength&&files.length>maxAllowedLength)EventsService.a.trigger(events.amount,[Actions_objectSpread({},args,{fileName:files[0].name,files:files})],!0);else{var validate=!0;for(var file in files)if("length"!==file&&"item"!==file&&(allowedTypes&&(files[file].type&&!allowedTypes.includes(files[file].type)||!files[file].type&&!Object(Utils.gb)(files[file].name,allowedTypes))&&(validate=!1,EventsService.a.trigger(events.type,[Actions_objectSpread({},args,{fileName:files[0].name,files:files})],!0)),maxAllowedSize&&validate&&files[file].size>maxAllowedSize&&(validate=!1,EventsService.a.trigger(events.size,[Actions_objectSpread({},args,{fileName:files[0].name,files:files})],!0)),!validate))break;validate&&EventsService.a.trigger(events.success,[Actions_objectSpread({},args,{fileName:files[0].name,files:files})],!0)}else EventsService.a.trigger(events.success,[Actions_objectSpread({},args,{fileName:files[0].name,files:files})],!0)}}};break;case HIDE_WHEN_CLICKED_OUTSIDE:retFunc=function retFunc(args){var logic=()=>{try{react_dom.findDOMNode(self).contains(args.target||args[0]&&args[0].target)||(self.state&&self.state.rows?self.setState({rows:[],selected:-1,rowsHidden:!0}):self.state&&self.state.isOpen&&self.setState({isOpen:!1}),self.state&&self.props.config.hasOwnProperty("hide")&&(self.props.config.hide=!0,self.setState({hide:!0})))}catch(e){}};behaviour.delay?setTimeout(logic,behaviour.delay):logic()};break;case SET_SEARCH_ENGINE:retFunc=function retFunc(args){if(args.engineId&&Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),setEngine=()=>{search.setCurrentSearchEngine(args.engineId),EventsService.a.trigger(Consts.jc,[args])},search=ServiceFactory.a.get(Consts.mc);search.isEnginePersist(args.engineId)?args.engineId!=pref.get(Consts.qc)&&setEngine():args.engineId!=pref.get(Consts.Ac)&&setEngine()}};break;case SET_CHROME_POPUP:retFunc=args=>{Object(ActionsUtils.a)(args,behaviour,self)&&(isUndef(behaviour.html)||(BrowserService.a.setBrowserActionPopUp(behaviour.html,behaviour.tabId?parseInt(behaviour.tabId):null),EventsService.a.trigger("SET_CHROME_POPUP_DONE")))};break;case PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(behaviour.events&&self&&self.mounted&&!(self.props.config.hide&&self.state.hide||react_dom.findDOMNode(self).contains(args.target||args[0]&&args[0].target)))for(var i in behaviour.events)EventsService.a.trigger(behaviour.events[i].name,[Object.assign(behaviour.events[i])])}catch(e){LoggerService.a.track(Consts.W,`PUBLISH_EVENTS_WHEN_CLICKED_OUTSIDE: ${e.message}`)}};break;case CHANGE_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){self.state=self.state||{};var image=args.image||behaviour.image||!1,color=args.color||behaviour.color||!1,pref=ServiceFactory.a.get(Consts.Vb);if((args.lsImage||behaviour.lsImage)&&(image=pref.get(args.lsImage||behaviour.lsImage)),(args.lsColor||behaviour.lsColor)&&(image=pref.get(args.lsColor||behaviour.lsColor)),image){color=color||"none",image=behaviour.style&&Object(Utils.K)(behaviour.style[image])?behaviour.style[image]:image;var newStyle=behaviour.style&&Object(Utils.H)(behaviour.style[image])?behaviour.style[image]:{},imageString=Object(Utils.x)(image,!0),gradient=self.props&&self.props.config&&self.props.config.backgroundImageGradient;imageString=gradient&&Object(Utils.hb)(imageString,"url(")?`${gradient},${imageString}`:imageString;var source=self.state.style||self.props.config.style||{};if(source.backgroundColor===color&&source.backgroundImage===imageString)return;self.setState({style:Actions_objectSpread({},self.state.style||{},{},newStyle,{backgroundImage:imageString,backgroundColor:color})})}else color&&self.setState({style:Actions_objectSpread({},self.state.style||{},{backgroundImage:"none",backgroundColor:color})})}};break;case PERSIST_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Vb);args.image?(prefService.set(Consts.j,args.image),prefService.set(Consts.i,"")):args.color&&(prefService.set(Consts.i,args.color),prefService.set(Consts.j,""))}};break;case RELOAD_BACKGROUND:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Vb),props={};props.color=prefService.get(Consts.i),props.image=prefService.get(Consts.j),EventsService.a.trigger(CHANGE_BACKGROUND,[props])}};break;case SET_BORDER_GRAY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(args.color)self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{borderColor:"lightgray"})});else if(args.image){var previousStyle=Actions_objectSpread({},self.state?self.state.style:{});previousStyle.hasOwnProperty("borderColor")&&delete previousStyle.borderColor,self.setState({style:previousStyle})}self.mounted&&self.forceUpdate()};break;case CHANGE_COLOR_TO_GRAY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self))if("#ffffff"===args.color)self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{color:"#8A8A8A"})});else if(/tile-bg\.png$/.test(args.image))self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{color:"#555"})});else{var unselectedStyle={color:self.props.config.style.color};self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{},unselectedStyle)})}};break;case INVERT_IMAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("#ffffff"===args.color)self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{WebkitFilter:"invert(100%)",filter:"invert(100%)"})});else if(/tile-bg\.png$/.test(args.image))self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{WebkitFilter:"invert(100%)",filter:"invert(100%)"})});else{var unselectedStyle={filter:self.props.config.style.filter?self.props.config.style.filter:"invert(0%)",WebkitFilter:self.props.config.style.filter?self.props.config.style.filter:"invert(0%)"};self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{},unselectedStyle)})}};break;case SET_STATE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var state=behaviour.state||args.state,mergeStates=behaviour.mergeStates||!1,pref=ServiceFactory.a.get(Consts.Vb);if(behaviour.dynamic&&Array.isArray(behaviour.dynamic)){for(var elem in state=JSON.stringify(state),behaviour.dynamic){var obj=behaviour.dynamic[elem],regex=new RegExp(obj.ph,"g"),str="pref"===obj.source?pref.get(obj.key):"self"===obj.source?self:args[obj.key];obj.deepValue&&(str=Object(Utils.p)(str,obj.deepValue)),state=state.replace(regex,str)}state=JSON.parse(state)}var funcs=behaviour.phFunctions||behaviour.placeHolderFunctions;if(Array.isArray(funcs))try{state=Object(Utils.U)(state,funcs,{},self)}catch(e){}self.mounted&&(mergeStates?self.setState(objectAssignDeep_default()({},self.state,state)):self.setState(Actions_objectSpread({},state)))}else if(behaviour.ignorable);else{var unselectedState={};for(var key in behaviour.state)unselectedState[key]="object"==typeof behaviour.state[key]?{}:void 0;self.setState(Actions_objectSpread({},unselectedState))}};break;case SET_CONFIG:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var config=behaviour.config||args.config||{},assignMethod="deepAssign"===behaviour.method?objectAssignDeep_default.a:Object.assign,oldConfig=self.props.config,newConfig=Actions_objectSpread({},self.props.config,{},config);if(!Object(Utils.b)(newConfig,oldConfig)){assignMethod(self.props.config,config||{}),self.mounted&&self.setState(self.state);var event=args.doneEvent||behaviour.doneEvent||`SET_CONFIG_DONE_${self.props.config.id}`;EventsService.a.trigger(event,[newConfig])}}};break;case SELECTIVE_CONFIG_RESET:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var keysToReset=!(!behaviour.keysToReset||Object(Utils.I)(behaviour.keysToReset))&&behaviour.keysToReset,newState=keysToReset?{}:self.props.config;if(keysToReset)for(var i in keysToReset){var key=keysToReset[i];newState[key]=self.props.config[key]}self.setState(newState)}};break;case RELOAD_IFRAMES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&"function"==typeof self.updateIframes&&self.updateIframes(args.state||{})};break;case UPDATE_TEXT:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var argsKey=behaviour.argsKey||"text",text=behaviour.text?behaviour.text:args&&args[argsKey]?args[argsKey]:"";self.setState({text:text})}};break;case REMOVE_FILES:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var files=!(!behaviour.files||!Array.isArray(behaviour.files))&&behaviour.files;if(files)for(var file in files)FilesService.deleteFileByName(files[file])}};break;case STORE_FILE:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)&&args.files&&"object"==typeof args.files&&args.files.length){var files=args.files;if(behaviour.fileName&&behaviour.fileLocation){var fn=behaviour.fileName;FilesService.addFiles({[fn]:files[behaviour.fileLocation]}),behaviour.event&&EventsService.a.trigger(behaviour.event,[files[behaviour.fileLocation]])}else{for(var file in files)if("length"!==file&&"item"!==file){var _fn=files[file].name,f=files[file];FilesService.addFiles({[_fn]:f})}behaviour.event&&EventsService.a.trigger(behaviour.event,[{files:JSON.stringify(files)}])}}};break;case UPLOAD_FILE_TO_CONVERT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var fileName=behaviour.fileName||args.fileName||!1;if(fileName){var convertType=behaviour.convertType||args.convertType||!1;if(convertType){var file=FilesService.getFileByName(fileName),events=behaviour.events||{};if(events=Actions_objectSpread({success:"FILE_CONVERT_SUCCEEDED",failure:"FILE_CONVERT_FAILED",noFile:"FILE_CONVERT_NOFILE",start:"FILE_CONVERT_STARTED"},events),file){var convertKey=behaviour.convertKey||"08cd7b5c13da4a64e0fdc5cfab6c356ccb321dda",convertUrl=behaviour.convertUrl||"https://api.zamzar.com/v1/jobs/",getFileUrl=behaviour.getFileUrl||"https://api.zamzar.com/v1/files/{{fileId}}/content",baseRetries=behaviour.retries||12,retries=baseRetries;convertType=convertType.toLowerCase();var authKey=`Basic ${btoa(`${convertKey}:`)}`;EventsService.a.trigger(events.start);var headersObject={Authorization:authKey},jobId=!1,abortMsg=behaviour.abortMsg||!1,abort=!1;if(abortMsg){var abortListener=event=>{for(var msg in abortMsg)if(event.data[msg]===abortMsg[msg]&&(abort=!0)){window.removeEventListener("message",abortListener,!1);break}};window.addEventListener("message",abortListener)}var handleInitRes=res=>{abort||(Object(Utils.H)(res)&&"initialising"===res.status&&res.id?(jobId=res.id,setTimeout(()=>{getJobInfo(jobId)},500)):failure("job_init_failed"))},jobInfoHandler=(jobId,response)=>{if(retries)if("successful"===response.status){var fileId=!!(Object(Utils.A)(response.target_files)&&Object(Utils.H)(response.target_files[0])&&response.target_files[0].id)&&response.target_files[0].id;fileId?downloadConvertedFile(fileId):failure("job_returned_without_file_id")}else"failed"===response.status?failure("job_status_failed"):(--retries,setTimeout(()=>{getJobInfo(jobId)},5e3));else failure(`job_didnt_return_after_${baseRetries}_retries`)},getJobInfo=jobID=>{if(!abort){var infoUrl=convertUrl+jobID;Object(HttpService.a)({method:"get",url:infoUrl,headers:headersObject}).then(response=>{jobInfoHandler(jobID,response.data)}).catch(e=>{failure(e)})}},downloadConvertedFile=fileId=>{if(!abort){var url=getFileUrl.replace("{{fileId}}",fileId),fileName=`${file.name.substr(0,file.name.lastIndexOf("."))}.${convertType}`;Object(Utils.m)(url,fileName,headersObject).then(()=>{EventsService.a.trigger(events.success)}).catch(e=>{failure(e)})}},failure=function failure(){var error=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",trackingService=ServiceFactory.a.get(Consts.Lc),errorMessage=Object(Utils.K)(error)?error:error.response?error.response.data:error;trackingService.trackStatusEvent("api_error",void 0,void 0,void 0,void 0,void 0,{extra1:errorMessage}),Object(Utils.F)(errorMessage,"credits")&&BrowserService.a.createTab({url:"https://www.zamzar.com"}),EventsService.a.trigger(events.failure,[{error:""}])},startConvertJob=()=>{if(!abort){var form=new FormData;form.append("source_file",file),form.append("target_format",convertType),Object(HttpService.a)({method:"post",url:convertUrl,data:form,headers:headersObject}).then(response=>{handleInitRes(response.data)}).catch(e=>{failure(e)})}};startConvertJob()}else EventsService.a.trigger(events.noFile)}}}};break;case SEND_MESSAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var messagesArr=behaviour.messages||!1;if(messagesArr&&Array.isArray(messagesArr))for(var msg in messagesArr)window.postMessage(messagesArr[msg],"*")}};break;case LOCK_SETTINGS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(behaviour.keys&&Object(ActionsUtils.a)(args,behaviour,self))try{for(var pref=ServiceFactory.a.get(Consts.Vb),value=!behaviour.unlock||!0!==behaviour.unlock||void 0,i=0;i<Object.keys(behaviour.keys).length;i++)pref.set(`${behaviour.keys[i]}_locked`,value)}catch(e){LoggerService.a.track(Consts.W,`LOCK_SETTINGS90: ${e.message}`)}};break;case SET_SELECTED:retFunc=function retFunc(args,sender){if(Object(ActionsUtils.a)(args,behaviour,self)){var selectedId=sender&&sender.id?sender.id:behaviour.selectedId?behaviour.selectedId:args&&args.selectedId?args.selectedId:"";if(self.props.config.id===selectedId)self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{},self.props.config.selectedStyle),selected:!0});else{var unselectedStyle={};for(var selectedKey in self.props.config.selectedStyle)unselectedStyle[selectedKey]=self.props.config.style[selectedKey];self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{},unselectedStyle),selected:!1})}}};break;case SET_TEXT:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)&&(self.setState({text:args.text}),self.props.config.events&&self.props.config.events.onSetText)){var params=Actions_objectSpread({},self.props.config.events.onSetText,{text:args.text,searchObject:args.searchObject||{}});EventsService.a.trigger(self.props.config.events.onSetText.name,[params,Actions_objectSpread({},self.props.config)])}};break;case HIDE_OR_SHOW:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.props.config.hide=!self.props.config.hide,self.mounted&&self.forceUpdate(),Object.assign(args,behaviour.args||{}),Object(Utils.H)(behaviour.events)&&(behaviour.events.hide&&self.props.config.hide?EventsService.a.trigger(behaviour.events.hide,[args]):behaviour.events.show&&!self.props.config.hide&&EventsService.a.trigger(behaviour.events.show,[args]))),EventsService.a.trigger(HIDE_OR_SHOW_FINISHED,[args])};break;case HIDE_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.props.config.hide=!0,self.mounted&&self.setState({hide:!0}))};break;case SHOW_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),delay=null!=behaviour.delay?behaviour.delay:args&&null!=args.delay?args.delay:pref.get(Consts.Tb),delayKey=behaviour.delayKey?behaviour.delayKey:!!args.delayKey&&args.delayKey;delayKey&&pref.set(delayKey,delay),setTimeout(()=>{if(behaviour.stop){var key=behaviour.stop.key;if(pref.get(key)==behaviour.stop.val)return}self.props.config.hide=!1,self.mounted&&self.setState({hide:!1})},delay),EventsService.a.trigger(SHOW_COMPONENT,[Actions_objectSpread({},self.props.config)]),EventsService.a.trigger(`${SHOW_COMPONENT}_${self.props.config.id}`,[Actions_objectSpread({},self.props.config)])}};break;case SOFT_HIDE_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=behaviour.delay||args.delay||0,state={style:{display:"none"}};setTimeout(()=>{self.mounted&&self.setState(objectAssignDeep_default()({},self.state,state))},delay)}};break;case SOFT_SHOW_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=behaviour.delay||args.delay||0,display=behaviour.display?behaviour.display:args.display?args.display:self.props.config.style&&self.props.config.style.display?self.props.config.style.display:"block",state={style:{display:display}};setTimeout(()=>{self.mounted&&self.setState(objectAssignDeep_default()({},self.state,state))},delay)}};break;case RELOAD_COMPONENT:retFunc=function retFunc(args){Object(ActionsUtils.a)(args,behaviour,self)&&self.mounted&&self.forceUpdate()};break;case RECONSTRUCT_COMPONENT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)&&self.mounted){actionCreator.call(self,{do:FORCE_REPLACE_CONFIG_FUNCTION})(),self.setState({reconstruct:!0});var event=args.doneEvent||behaviour.doneEvent||`RECONSTRUCT_COMPONENT_${self.props.config.id}`;EventsService.a.trigger(event)}};break;case SET_PREFERENCES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},lsKey=behaviour.key||args.key||!1;if(lsKey&&Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),val=behaviour.hasOwnProperty("val")?behaviour.val:args.hasOwnProperty("val")?args.val:"",randomVal=args.randomVal||behaviour.randomVal||!1;randomVal&&(val=Object(Utils.W)("0123456789",9));var source=args.source||behaviour.source||"pref",relevantKeys=[];!0===behaviour.wildcard?pref.getAllKeys().forEach(key=>{key.indexOf(lsKey)>=0&&relevantKeys.push(key)}):relevantKeys.push(lsKey),relevantKeys.forEach(key=>{if(behaviour.op){var lsValue=null==pref.get(key)||""==pref.get(key)?0:parseFloat(pref.get(key));switch(behaviour.op){case"*":lsValue*=val,pref.set(key,lsValue,source);break;case"-":lsValue-=val,pref.set(key,lsValue,source);break;case"/":0!=lsValue&&(lsValue/=val,pref.set(key,lsValue,source));break;case"+":lsValue+=val,pref.set(key,lsValue,source)}}else pref.set(key,val,source)})}};break;case PREFERENCES_DUPLICATOR:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),keyFrom=args.keyFrom||behaviour.keyFrom||!1,keyTo=args.keyTo||behaviour.keyTo||!1,source=args.source||behaviour.source||"pref";keyFrom&&keyTo&&pref.set(keyTo,pref.get(keyFrom),source)}};break;case MARK_TIME:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),key=args.key||behaviour.key||!1;if(key){var source=args.source||behaviour.source||"pref";pref.markTime(key,source)}}};break;case PREF_COUNT:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),key=args.key||behaviour.key||!1;if(key){var source=args.source||behaviour.source||"pref";pref.count(key,source)}}};break;case INSERT_INPUT_TO_LOCALSTORAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)&&args.stringId&&(args.key||behaviour.key)){var pref=ServiceFactory.a.get(Consts.Vb),key=behaviour.key?behaviour.key:args.key;pref.set(key,args.text)}};break;case TOGGLE_PREFERENCE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var prefService=ServiceFactory.a.get(Consts.Vb);if(null!=args){var newValue=args.active?0:1;prefService.set(self.props.config.key,newValue)}EventsService.a.trigger(TOGGLE_PREF_FINISHED)}};break;case CHANGE_VISIBILITY:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&(self.setState({isOpen:!self.state.isOpen}),self.props.config.hide=!self.props.config.hide,self.mounted&&self.forceUpdate())};break;case HIDE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&self.setState({isOpen:!1})};break;case UPDATE_WEATHER:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var prefService=ServiceFactory.a.get(Consts.Vb),now=(new Date).getTime(),interval=9e5,prefUnit=prefService.get(Consts.Vc),unit=args.unit?args.unit:"{{UNITS_WEATHER}}"===prefUnit?"metric":prefUnit,currentUnit=self.state.isCelsius?"metric":"imperial",changedUnit=unit!==currentUnit,prefData=prefService.get(Consts.dd),prefDataTime=prefService.get(Consts.cd),updateSelf=function updateSelf(data){prefService.set(Consts.Vc,unit),self.mounted&&data.main&&self.setState({isCelsius:"imperial"!==unit,temperature:Math.round(data.main.temp),city:data.name,icon:`url(content/images/weather/${data.weather[0].icon}.svg)`})};if(!changedUnit&&Object(Utils.H)(prefData)&&prefDataTime&&now-prefDataTime<=interval)updateSelf(prefData);else{var geoData=prefService.get(Consts.lb);if(!geoData[Consts.yb]||!geoData[Consts.yb])return;var geoData_url=`https://api.openweathermap.org/data/2.5/weather?appid=${Consts.bd}&lat=${geoData[Consts.yb]}&lon=${geoData[Consts.Bb]}&units=${unit}&z=90883`;axios_default()({method:"get",url:geoData_url}).then(res=>{var gdata=res.data;gdata.main&&(prefService.set(Consts.dd,gdata),prefService.set(Consts.cd,(new Date).getTime()),prefService.set(Consts.y,gdata.name),updateSelf(gdata))}).catch(reason=>{self.mounted&&self.setState({isCelsius:"imperial"!==prefService.get(Consts.Vc)})})}}catch(e){LoggerService.a.track(Consts.W,`UPDATE_WEATHER90: ${e.message}`)}};break;case TRACK:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&Object(TrackingActions.c)(args,behaviour)};break;case UNINSTALL_EXTENSION:retFunc=function retFunc(args){BrowserService.a.uninstall(()=>{})};break;case PARSE_URL:retFunc=function retFunc(args){"#ds1"===args.hash&&LoggerService.a.debug(window.decodeURIComponent(window.location.href))};break;case OPEN_WEB_PAGE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(WebNavigationActions.a)(args,behaviour,self)};break;case CHANGE_SSE_STATE:retFunc=function retFunc(args){if("secured_active"===self.props.config.key){var tracking=ServiceFactory.a.get(Consts.Lc),port=BrowserService.a.connectExternalFile("ws_feature_toggle"),active=ServiceFactory.a.get(Consts.Vb).get("secured_active");active?port.postMessage({secureSearch:!0}):port.postMessage({secureSearch:!1}),tracking.trackStatusEvent("secured_set","",`active: ${active}`)}};break;case CHANGE_FOOTER:retFunc=function retFunc(args){args.image&&/tile-bg\.png$/.test(args.image)?self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{backgroundColor:"#EEEEEE"})}):self.setState({style:Actions_objectSpread({},self.state?self.state.style:{},{backgroundColor:""})})};break;case SHOW_RATE_US_POPUP:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),timeKey=!(!behaviour||!behaviour.timeKey||"false"==behaviour.timeKey)&&behaviour.timeKey,interval=behaviour&&behaviour.interval?behaviour.interval:0,currentTime=Math.floor((new Date).getTime()/1e3);timeKey&&interval?(null==pref.get(timeKey)||currentTime-pref.get(timeKey)>=interval)&&(pref.set(Consts.bc,currentTime),EventsService.a.trigger(Consts.wc,[args])):(pref.set(Consts.bc,currentTime),EventsService.a.trigger(Consts.wc,[args]))}};break;case DO_ACTION_ON_INTERVAL:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){if(behaviour.interval){var interval=behaviour.interval;behaviour.unit&&("s"===behaviour.unit?interval*=1e3:"m"===behaviour.unit?interval=1e3*interval*60:"h"===behaviour.unit&&(interval=1e3*interval*60*60)),setInterval(()=>{behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(args),LoggerService.a.debug(`DO_ACTION_ON_INTERVAL called: ${behaviour.actionType}`)},interval)}behaviour.timeout&&setTimeout(()=>{behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(args),LoggerService.a.debug(`DO_ACTION_ON_INTERVAL called: ${behaviour.actionType}`)},behaviour.timeout)}};break;case DO_ACTION_WHEN_CONDITION_MET:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},actionCondition=behaviour.actionCondition?new Condition.a(behaviour.actionCondition):null;if(null===actionCondition||actionCondition&&actionCondition.check(args,behaviour,self)){var cond=behaviour.c?new Condition.a(behaviour.c):null;if(cond){var check=function check(){return LoggerService.a.debug("DO_ACTION_WHEN_CONDITION_MET check"),!!cond.check(args,behaviour,self)&&(behaviour.do=behaviour.actionType,actionCreator.call(self,behaviour)(Actions_objectSpread({},args,{},behaviour.args)),LoggerService.a.debug(`DO_ACTION_WHEN_CONDITION_MET called: ${behaviour.actionType}`),!0)};if(!check()){var intervalID=setInterval(()=>{check()&&clearInterval(intervalID)},behaviour.interval||100);setTimeout(()=>{clearInterval(intervalID)},behaviour.timeout||5e3)}}}};break;case TRIGGER_EVENTS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb),events=behaviour.events||args.events||!1;if(events&&"object"==typeof events){if(behaviour.dynamic&&Array.isArray(behaviour.dynamic)){for(var elem in events=JSON.stringify(events),behaviour.dynamic){var obj=behaviour.dynamic[elem],regex1=new RegExp(`"${obj.ph}"`,"g"),regex2=new RegExp(obj.ph,"g"),str="pref"===obj.source?pref.get(obj.key):"self"===obj.source?self:"args"===obj.source?args:args[obj.key];obj.deepValue&&(str="string"==typeof(str=Object(Utils.p)(str,obj.deepValue))?str.trim():str),events=events.replace(regex1,JSON.stringify(str)).replace(regex2,str)}events=JSON.parse(events)}for(var event in behaviour.placeHoldersFunctions&&(events=Object(Utils.U)(events,behaviour.placeHoldersFunctions,{},{self:self,behaviour:behaviour,args:args})),events)if("object"==typeof events[event])for(var eventName in events[event])EventsService.a.trigger(eventName,[Actions_objectSpread({},behaviour,{},args,{},events[event][eventName])]);else EventsService.a.trigger(event,[Actions_objectSpread({},behaviour,{},args,{},events[event])])}}};break;case UPDATE_INTERVAL_COMPONENTS:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var pref=ServiceFactory.a.get(Consts.Vb);if(behaviour.localStorageKey&&args.componentsState){var localStorageConfig=pref.get(behaviour.localStorageKey);"object"==typeof localStorageConfig&&"object"==typeof args.componentsState&&(localStorageConfig=Actions_objectSpread({},localStorageConfig,{},args.componentsState),pref.set(behaviour.localStorageKey,localStorageConfig))}self.isIntervalComponent&&self.mounted&&"object"==typeof self.state.componentsState&&"object"==typeof args.componentsState&&self.setState(Actions_objectSpread({},self.state,{componentsState:objectAssignDeep_default()({},self.state.componentsState,args.componentsState)}))}};break;case CLOSE_WINDOW:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var delay=behaviour.delay?behaviour.delay:args&&args.delay?args.delay:0;setTimeout(()=>{window.close()},delay)}};break;case CHANGE_TAB_TITLE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var title=behaviour.title||args.title||!1;title&&(document.title=title)}};break;case DISABLE_WINDOW_RESIZING:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var size=[window.outerWidth,window.outerHeight];window.onresize=()=>{window.resizeTo(size[0],size[1])}}};break;case SWITCH_STATE_PARAMS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var rules=args.rules||behaviour.rules||!1;if(rules){var newState={};for(var key in rules){var config=rules[key],fromVal=Object(Utils.p)(self.state,config.fromValue),tempObj=Object(Utils.z)({},config.toValue,fromVal);objectAssignDeep_default()(newState,tempObj)}self.setState(objectAssignDeep_default()({},self.state,newState));var doneEvent=args.doneEvent||behaviour.doneEvent||!1;doneEvent&&EventsService.a.trigger(doneEvent,[objectAssignDeep_default()({},args,{state:newState})])}}};break;case STRINGIFY_BYTES:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var source=behaviour.source||args.source||0,decimals=behaviour.decimals||args.decimals||2,space=behaviour.space||args.space||!1,result=Object(Utils.jb)(source,decimals,space),event=behaviour.event||"STRINGIFY_BYTES_DONE";EventsService.a.trigger(event,[{result:result}])}};break;case STRINGIFY_EPOCH_TIME:retFunc=function retFunc(args){if(Object(ActionsUtils.a)(args,behaviour,self)){var epoch=behaviour.epoch||args.epoch||!1,func=behaviour.function||args.function||"toLocaleString",time=new Date;try{time=!1!==epoch?new Date(parseInt(epoch)):time}catch(e){}var result="function"==typeof time[func]?time[func]():time.toLocaleString(),event=behaviour.event||"STRINGIFY_EPOCH_TIME_DONE";EventsService.a.trigger(event,[{result:result}])}};break;case GENERATE_FILE_URL:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var fileName=behaviour.fileName||args.fileName||!1;if(fileName){var fileUrl=FilesService.generateFileUrl(fileName);if(fileUrl){var events=behaviour.events||args.events||{success:"GENERATE_FILE_URL_SUCCESS"};EventsService.a.trigger(events.success,[{fileUrl:fileUrl}])}}}};break;case REPLACE_NEWTAB_WITH_NEWONE:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){BrowserService.a.getCurrentTabInfo(tabInfo=>{BrowserService.a.createTab(),BrowserService.a.removeTab(tabInfo.id)});var triggerEvent=behaviour.triggerEvent;if(triggerEvent)for(var event in triggerEvent)EventsService.a.trigger(event,[Actions_objectSpread({},self.props.config,{},args,{},triggerEvent[event])])}};break;case REMOVE_PREFERENCES:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var key=behaviour.key||!1;if(key&&key!==`${Consts.Jb}${Consts.b}`){var pref=ServiceFactory.a.get(Consts.Vb);pref.remove(key)}}};break;case FORCE_REPLACE_CONFIG_FUNCTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof self.replaceConfigFunc&&Object(ActionsUtils.a)(args,behaviour,self)){var extraData=Actions_objectSpread({},behaviour.extraData,{},args.extraData),extraFuncs=Object(Utils.A)(behaviour.extraFuncs)?behaviour.extraFuncs:[];extraFuncs=Object(Utils.A)(args.extraFuncs)?[...extraFuncs,...args.extraFuncs]:extraFuncs,self.replaceConfigFunc(extraFuncs,extraData);var event=args.doneEvent||behaviour.doneEvent||`FORCE_REPLACE_CONFIG_FUNCTION_${self.props.config.id}`;self.state.forceReplace=!0,self.setState({}),EventsService.a.trigger(event)}};break;case DYNAMIC_ACTION_EXECUTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(args.behaviour){var behave=args.behaviour;if(Object(ActionsUtils.a)(args,behave,self))return actionCreator.call(self,behave)(Actions_objectSpread({},args,{},args.args)),!0}};break;case REREGISTER_BEHAVIOURS:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var unB=Object(Utils.A)(self.props.config.behaviours)?self.props.config.behaviours:[];unregister.bind(self)(unB);var extraBehaviours=Object(Utils.A)(args.extraBehaviours)?args.extraBehaviours:[],defaultBehaviours=Object(Utils.A)(self.props.config.behaviours)?self.props.config.behaviours:[],b=[defaultBehaviours,...extraBehaviours];register.bind(self)(b);var doneEvent=args.doneEvent||behaviour.doneEvent||`REREGISTER_BEHAVIOURS_${self.props.config.id}`;EventsService.a.trigger(doneEvent,[])}};break;case SET_FAVICON:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var link=document.querySelector('link[rel*="icon"]')||document.createElement("link");link.type="image/x-icon",link.rel="shortcut icon",link.href=behaviour.href,document.getElementsByTagName("head")[0].appendChild(link)};break;case LOAD_STYLESHEET:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var url=behaviour.href;if(!document.querySelector(`link[href="${url}"]`)){var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet",link.type="text/css",link.href=url,link.media="all",head.appendChild(link)}};break;case HISTORY_BACK:retFunc=function retFunc(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.history.back(),behaviour.close&&1===history.length&&window.close()};break;case REPLACE_LOCATION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&window.location.replace(behaviour.location||args.location)};break;case RELOAD_LOCATION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&window.location.reload()};break;case DISABLE_BROWSER_ACTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.setBrowserActionDisable(behaviour.tabId)};break;case ENABLE_BROWSER_ACTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.setBrowserActionEnable(behaviour.tabId)};break;case RELOAD_TAB:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ActionsUtils.a)(args,behaviour,self)&&BrowserService.a.tabsReload(behaviour.tabId)};break;case GENERIC_REACT_COMP_FUNCTION:retFunc=function retFunc(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(ActionsUtils.a)(args,behaviour,self)){var functionToExecute=behaviour.functionName,fArgs=behaviour.functionArguments||[];functionToExecute&&Object(Utils.E)(self[functionToExecute])&&self[functionToExecute](...fArgs)}};break;default:retFunc=()=>{}}return function(){Object(Utils.V)(behaviour),Object(Utils.V)(arguments[0]);var env_=EventsService.a.env_,argsObj={};for(var i in arguments)argsObj=Object.assign(argsObj,arguments[i]);!0===argsObj.forceCrossContextEvent?retFunc.apply(this,arguments):"object"==typeof argsObj.forceCrossContextEvent&&env_?argsObj.forceCrossContextEvent[env_]&&retFunc.apply(this,arguments):argsObj.eventFromOtherContext?!0===behaviour.crossContextListener?"object"==typeof argsObj.crossContextEventTargets?argsObj.crossContextEventTargets[env_]&&retFunc.apply(this,arguments):retFunc.apply(this,arguments):"object"==typeof behaviour.crossContextListener&&argsObj.eventSource&&behaviour.crossContextListener[argsObj.eventSource]&&retFunc.apply(this,arguments):"object"==typeof argsObj.crossContextEventTargets?argsObj.crossContextEventTargets[env_]&&retFunc.apply(this,arguments):retFunc.apply(this,arguments)}}function unregister(behaviours){var _this=this;if(behaviours)for(var _loop=function _loop(i){for(var behaviourArr=Object(Utils.d)(behaviours[i]),_loop2=function _loop2(j){var behaviour=behaviourArr[j];if(!Object(Utils.H)(behaviour)||!behaviour.on||!behaviour.do)return"continue";var onArray=Object(Utils.d)(behaviour.on),doArray=Object(Utils.d)(behaviour.do),that=_this;doArray.forEach((doElm,doIndex)=>{var clonedBehaviour=Object(Utils.j)(behaviour);clonedBehaviour.do=doElm,clonedBehaviour.on=onArray,EventsService.a.off(clonedBehaviour.on,that._registeredActions[j][i][doIndex])})},j=0;j<behaviourArr.length;j++)_loop2(j)},i=0;i<behaviours.length;i++)_loop(i)}function register(behaviours){var _this2=this,createAction=actionCreator.bind(this);if(behaviours)for(var _loop3=function _loop3(i){for(var behaviourArr=Object(Utils.d)(behaviours[i]),_loop4=function _loop4(j){var behaviour=behaviourArr[j];if(!Object(Utils.H)(behaviour)||!behaviour.on||!behaviour.do)return"continue";var onArray=Object(Utils.d)(behaviour.on),doArray=Object(Utils.d)(behaviour.do),that=_this2;onArray.forEach((onElm,onIndex)=>{doArray.forEach((doElm,doIndex)=>{var clonedBehaviour=Object(Utils.j)(behaviour);clonedBehaviour.do=doElm,clonedBehaviour.on=onElm,clonedBehaviour.__BehaviourId=Object(index_esm.a)(),that._registeredActions=that._registeredActions||[],that._registeredActions[j]=that._registeredActions[j]||[],that._registeredActions[j][i]=that._registeredActions[j][i]||[],that._registeredActions[j][i][doIndex]=createAction(clonedBehaviour),EventsService.a.on(clonedBehaviour.on,that._registeredActions[j][i][doIndex])})})},j=0;j<behaviourArr.length;j++)_loop4(j)},i=0;i<behaviours.length;i++)_loop3(i)}class GenericReactComponentWrapper_GenericReactComponentWrapper extends react.Component{constructor(props){super(props),this._uniqueComponentId=Object(index_esm.a)()}shouldTakeFocus(){return!!this.props.config.focus}stopIntervalFocus(){this.takeFocusOnIntervalREF&&(clearInterval(this.takeFocusOnIntervalREF),this.takeFocusOnIntervalREF=void 0)}takeFocusOnInterval(){if(this.shouldTakeFocus()){var counter=0;this.takeFocusOnIntervalREF=setInterval(()=>{++counter,this.textInput.focus(),10===counter&&this.stopIntervalFocus()},100)}}getDataAutoAttr(props){var data_auto=props.config.data_auto;return data_auto&&Object(Utils.H)(data_auto)?encodeURIComponent(JSON.stringify(data_auto)):null}}function Container_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Container_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Container_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Container_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>GenericReactComponentWrapper_GenericReactComponentWrapper,"GenericReactComponentWrapper");var Block=__webpack_require__(50).Block;class Container_Container extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1,style:props.config.selected&&props.config.selectedStyle?props.config.selectedStyle:{}},this.mergeChildrenProps(),"mainWindow"===props.config.id&&Object(Utils.H)(props.config.style)&&(props.config.style.hasOwnProperty("backgroundColor")&&delete props.config.style.backgroundColor,props.config.style.hasOwnProperty("backgroundImage")&&delete props.config.style.backgroundImage),this.props.config.events&&((this.props.config.events.onDragStart||this.props.config.events.onDragEnter||this.props.config.events.onDragOver||this.props.config.events.onDragLeave)&&window.addEventListener("dragover",e=>{(e=e||event).preventDefault()},!1),this.props.config.events.onDrop&&(window.addEventListener("dragover",e=>{(e=e||event).preventDefault()},!1),window.addEventListener("drop",e=>{(e=e||event).preventDefault()},!1))),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.handleOnDragStart=this.handleOnDragStart.bind(this),this.handleOnDragEnter=this.handleOnDragEnter.bind(this),this.handleOnDragOver=this.handleOnDragOver.bind(this),this.handleOnDragLeave=this.handleOnDragLeave.bind(this),this.handleOnDrop=this.handleOnDrop.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.nextClickName=0}conditionalConfigMerge(){var fromRender=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var merger=()=>{var arr=Object(Utils.H)(this.props.config.conditionalConfigMerge)?[this.props.config.conditionalConfigMerge]:this.props.config.conditionalConfigMerge;for(var i in arr){var settings=arr[i],cond=settings.c?new Condition.a(settings.c):null;Object(Utils.H)(settings.config)&&(null===cond||cond&&cond.check(this.props.config,settings,this.props.config))&&objectAssignDeep_default.a.withOptions(this.props.config,[settings.config],settings.options||{arrayBehaviour:"replace"})}};fromRender&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||merger()}catch(e){}}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},config=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.originalConfig;try{if(Object(Utils.A)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.A)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.U)(config,phFuncs,{},Container_objectSpread({},config,{},extraData,{_uniqueComponentId:this._uniqueComponentId}));Object.assign(this.props.config,a)}}catch(e){LoggerService.a.debug("error",e)}}mergeChildrenProps(){var childrenProps=this.props.config.childrenProps;if(childrenProps&&Object(Utils.H)(childrenProps)){var comps=this.props.config.components;if(Array.isArray(comps)){var props=childrenProps.props||{},method="deepAssign"===childrenProps.method?objectAssignDeep_default.a:Object.assign;for(var comp in comps)comps.hasOwnProperty(comp)&&(comps[comp]=method({},props,comps[comp]))}}}createComponents(){var childrenComponents,self=this;if(this.props.config.components){this.mergeChildrenProps();var components=this.props.config.components,forceReplace=this.state.forceReplace||this.props.forceReplace;childrenComponents=Object.keys(this.props.config.components).map(componentKey=>{if(Object(Utils.H)(components[componentKey])&&components[componentKey].type){if(components[componentKey].hasOwnProperty("renderForEach"))return self.createComponentForEach(components[componentKey],componentKey);var ComponentObject=ComponentsFactory.a.createComponent(components[componentKey].type);return react.createElement(ComponentObject,{key:componentKey,config:components[componentKey],hover:self.state.hovered,forceReplace:forceReplace})}})}return childrenComponents}createComponentForEach(component,componentKey){var data=component.renderForEach;if(!data||"object"!=typeof data)return[];Object(Utils.A)(data)&&(data.length=component.renderForEachLimit&&data.length>component.renderForEachLimit?component.renderForEachLimit:data.length),component=JSON.stringify(component),this.state.renderForEach=this.state.renderForEach||{},this.state.renderForEach[componentKey]=this.state.renderForEach[componentKey]||{};var components=[],children={},forceReplace=this.state.forceReplace||this.props.forceReplace;for(var key in data){var value=data[key],childComponent=component.replace(/{{key}}/g,key);childComponent="object"==typeof value?childComponent.replace(/"{{value}}"/g,JSON.stringify(value)):childComponent.replace(/{{value}}/g,value);var child=JSON.parse(childComponent);delete child.renderForEach,children[key]=child;var ComponentObject=ComponentsFactory.a.createComponent(child.type);components.push(react.createElement(ComponentObject,{key:key,config:!forceReplace&&this.state.renderForEach[componentKey][key]||child,hover:this.state.hovered,forceReplace:forceReplace,renderedForEach:!0}))}return this.state.renderForEach[componentKey]=Object.assign(children,!forceReplace&&this.state.renderForEach[componentKey]),components}componentWillMount(){this.props.config.events&&this.props.config.events.willMount&&EventsService.a.trigger(this.props.config.events.willMount.name,[Container_objectSpread({},this.props.config.events.willMount,{selected:this.props.config.selected,selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentDidMount(){if(this.mounted=!0,register.bind(this)(this.props.config.behaviours),this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Container_objectSpread({},this.props.config.events.onMount,{selected:this.props.config.selected})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(event){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseEnter.name,[Container_objectSpread({},this.props.config.events.onMouseEnter)]))}handleMouseLeave(event){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseLeave.name,[Container_objectSpread({},this.props.config.events.onMouseLeave)]))}handleOnClick(event){if(this.props.config.events&&this.props.config.events.onClick){var params=Container_objectSpread({},this.props.config.events.onClick);event.stopPropagation(),EventsService.a.trigger((()=>{if(Array.isArray(this.props.config.events.onClick.names)){var returnVal=this.props.config.events.onClick.names[this.nextClickName];return this.nextClickName=this.props.config.events.onClick.names.length-1===this.nextClickName?0:this.nextClickName+1,returnVal}return this.props.config.events.onClick.name})(),[params,Container_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}handleOnDragStart(event){this.props.config.events&&this.props.config.events.onDragStart&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragStart.name,[Container_objectSpread({},this.props.config.events.onDragStart,{},event)],!0))}handleOnDragEnter(event){this.props.config.events&&this.props.config.events.onDragEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragEnter.name,[Container_objectSpread({},this.props.config.events.onDragEnter,{},event)],!0))}handleOnDragOver(event){this.props.config.events&&this.props.config.events.onDragOver&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragOver.name,[Container_objectSpread({},this.props.config.events.onDragOver,{},event)],!0))}handleOnDragLeave(event){this.props.config.events&&this.props.config.events.onDragLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDragLeave.name,[Container_objectSpread({},this.props.config.events.onDragLeave,{},event)],!0))}handleOnDrop(event){this.props.config.events&&this.props.config.events.onDrop&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onDrop.name,[Container_objectSpread({},this.props.config.events.onDrop,{},event)],!0))}handleKeyDown(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var event=this.props.config.events.onKeyDown,params=Container_objectSpread({},this.props.config.events.onKeyDown,{},event,{text:e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});EventsService.a.trigger(event.name,[params,Container_objectSpread({},this.props.config,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}}handleScroll(event){this.props.config.events&&this.props.config.events.onScroll&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onScroll.name,[Container_objectSpread({},this.props.config.events.onScroll)],!0))}shouldHide(){var hide=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(Utils.kb)(hide)}render(){if(this.props.renderedForEach&&this.props.forceReplace&&this.replaceConfigFunc([],{},this.props.config),this.id=!this.state.reconstruct&&this.id||Object(index_esm.a)(),this.state.reconstruct=null,this.conditionalConfigMerge(!0),Object(Utils.V)(this.props.config),this.shouldHide())return react.createElement("div",{style:{display:"none"}});var children=this.createComponents(),containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onClick:this.handleOnClick.bind(this),onDragStart:this.handleOnDragStart.bind(this),onDragEnter:this.handleOnDragEnter.bind(this),onDragOver:this.handleOnDragOver.bind(this),onDragLeave:this.handleOnDragLeave.bind(this),onDrop:this.handleOnDrop.bind(this),onKeyDown:this.handleKeyDown.bind(this),onScroll:this.handleScroll.bind(this)},basicStyle=this.props.config.style||{},hoverStyle=this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{},style=Container_objectSpread({},basicStyle,{},this.state.style,{},hoverStyle),container=react.createElement(Block,{key:this.id,style:style,props:containerProps,ref:container=>{this.Container=container}},children);return this.props.config.animateClass&&(container=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},container)),this.state.forceReplace=!1,container}findDOMNode(){return react_dom.findDOMNode(this.Container)}}function Link_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Link_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Link_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Link_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Container_Container,"Container");class Link_Link extends react.Component{constructor(props){super(props),this.state={hovered:!1,style:{}}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}shouldHide(){var hide=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(Utils.kb)(hide)}render(){if(Object(Utils.V)(this.props.config),this.shouldHide())return null;var prefService=ServiceFactory.a.get(Consts.Vb),title=BrowserService.a.getTranslationOnlyIfExist(this.props.config.title,prefService.get(Consts.Nc));return react.createElement("a",{style:Link_objectSpread({},this.props.config.style||{},{},this.state?this.state.style:{}),href:this.props.config.href||"#",onClick:this.props.onClick,target:this.props.config.href?"_blank":""},title)}}function Text_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Text_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Text_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Text_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Link_Link,"Link");var Text_require=__webpack_require__(50);Text_require.Block,Text_require.Inline;class Text_Text extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1},this.pref=ServiceFactory.a.get(Consts.Vb),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.dataAuto=this.getDataAutoAttr(props)}conditionalConfigMerge(){var fromRender=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var merger=()=>{var arr=Object(Utils.H)(this.props.config.conditionalConfigMerge)?[this.props.config.conditionalConfigMerge]:this.props.config.conditionalConfigMerge;for(var i in arr){var settings=arr[i],cond=settings.c?new Condition.a(settings.c):null;settings.config&&(null===cond||cond&&cond.check(this.props.config,settings,this.props.config))&&objectAssignDeep_default.a.withOptions(this.props.config,[settings.config],settings.options||{arrayBehaviour:"replace"})}};fromRender&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||merger()}catch(e){}}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(Utils.A)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.A)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.U)(this.originalConfig,phFuncs,{},Text_objectSpread({},this.originalConfig,{},extraData));Object.assign(this.props.config,a)}}catch(e){}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Text_objectSpread({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}shouldHide(){var hide=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(Utils.kb)(hide)}render(){this.conditionalConfigMerge(!0),Object(Utils.V)(this.props.config);var html=react.createElement("div",{style:{display:"none"}});if(this.shouldHide())return html;var text=this.handleText();return html=react.createElement("div",{ref:this.props.config.id,"data-auto":this.dataAuto,style:Text_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,dangerouslySetInnerHTML:!0===this.props.config.html?{__html:text}:null},!0===this.props.config.html?null:text)}handleText(){var text=this.props.config.dynamic?this.getCurrentText():this.state.hasOwnProperty("text")?this.state.text:this.props.config.text;return 1!=this.props.config.disable_trans&&(text=BrowserService.a.getTranslationOnlyIfExist(text,this.pref.get(Consts.Nc))),this.props.config.textOptions&&this.props.config.textOptions.capitalize&&(text=Object(Utils.f)(text)),text}getCurrentText(){return this.state.text||""===this.state.text?this.state.text:this.props.config.text_key?localStorage[this.props.config.text_key]:this.props.config.text?this.props.config.text:""}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Text_objectSpread({},addedParams=null==addedParams.active?null:addedParams,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Text_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}ComponentsFactory.a.add(()=>Text_Text,"Text");var common_FirstChild=function FirstChild(props){return react.Children.toArray(props.children)[0]||null};function Item_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Item_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Item_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Item_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Item_Block=__webpack_require__(50).Block;class Item_Item extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.pref=ServiceFactory.a.get(Consts.Vb),this.props=props,this.state={style:{},hovered:!1},this.props.config.key&&(this.state.active=1),props.config.selected&&(this.state={style:Item_objectSpread({},this.state?this.state.style:{},{},props.config.selectedStyle),hovered:!1}),this.getStateFromLocalStorage(),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.dataAuto=this.getDataAutoAttr(props)}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){this.getStateFromLocalStorage();var prefService=ServiceFactory.a.get(Consts.Vb),component=react.createElement("div",{style:{display:"none"}}),containerProps={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-auto":this.dataAuto};if(null!=this.state.active&&(this.state.active=this.pref.get(this.props.config.key),this.props.config.style=this.getStyleByState(this.state.active),this.props.config.text=this.getTextByState(this.state.active)),!this.props.config.hide){var txt=BrowserService.a.getTranslationOnlyIfExist(this.props.config.text,prefService.get(Consts.Nc));component=react.createElement(Item_Block,{style:Item_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:containerProps},txt)}return!this.props.config.hide&&this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:component)),component}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Item_objectSpread({},addedParams=null==addedParams.active?null:addedParams,{},this.props.config.events.onClick);event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Item_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}getStyleByState(state){return this.props.config.options[state].style||this.props.config.style}getTextByState(state){return this.props.config.options[state].text}getStateFromLocalStorage(){this.props.config.stateFromLocalStorage&&this.props.config.stateFromLocalStorage.local_storage&&(Object(Utils.V)(this.props.config.stateFromLocalStorage),this.props.config.stateFromLocalStorage.stateKey?this.state[this.props.config.stateFromLocalStorage.stateKey]=Object.assign(this.state[this.props.config.stateFromLocalStorage.stateKey],this.props.config.stateFromLocalStorage):this.state=Object.assign(this.state,this.props.config.stateFromLocalStorage))}}ComponentsFactory.a.add(()=>Item_Item,"Item");var Subject=__webpack_require__(541),debounceTime=__webpack_require__(540),distinctUntilChanged=__webpack_require__(538),takeUntil=__webpack_require__(539);function Input_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Input_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Input_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Input_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}class Input_Input extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.changeEventValueSubject=new Subject.a,this.unSubscribeSubject=new Subject.a,this.isTranslationActive=!1,this.query="",this.debounceChangeTime=0,this.handleChange=this.handleChange.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.state={text:props.config.text||"",style:{}}}componentDidMount(){this.takeFocusOnInterval();var prefService=ServiceFactory.a.get(Consts.Vb);if(this.isTranslationActive=prefService.get(Consts.Nc),this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Input_objectSpread({},this.props.config.events.onMount)]),this.debounceChangeTime=+this.props.config.debounceTime||0,this.changeEventValueSubject.pipe(Object(debounceTime.a)(this.debounceChangeTime),Object(distinctUntilChanged.a)(),Object(takeUntil.a)(this.unSubscribeSubject)).subscribe(value=>{this.handleChangeSubject(value)})}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours),this.unSubscribeSubject.next(!0),this.unSubscribeSubject.complete()}render(){var component=react.createElement("div",{style:{display:"none"}}),inputType=this.props.config.inputType?this.props.config.inputType:"text",text=Input_objectSpread({text:this.props.config.text},this.state&&void 0!==this.state.text?this.state:{}).text;text=this.isTranslationActive?BrowserService.a.getTranslationOnlyIfExist(text,this.isTranslationActive):text;var dir=this.props.config.direction||"ltr",HtmlTag=this.props.config.htmlTag||"input";if(this.props.config.hide)return component;var focusStyle=Input_objectSpread({},this.props.config.focusStyle,{},this.state.focusStyle),style=Input_objectSpread({},this.props.config.style,{},this.state.style);return style=this.state.focus&&Object.keys(focusStyle)>0?focusStyle:style,component=react.createElement(HtmlTag,{className:this.props.config.class,onFocus:this.handleFocus,onBlur:this.handleBlur,type:inputType,dir:dir,ref:input=>this.textInput=input,autoFocus:this.shouldTakeFocus(),onClick:this.handleClick,onKeyDown:this.handleKeyDown,onChange:this.handleChange,placeholder:this.props.config.placeholder,value:"text"!==inputType&&"search"!==inputType||void 0!==text?text:"",style:style}),this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{component:common_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:component)),component}handleClick(e){if(this.props.config.events&&this.props.config.events.onClick){var params=Input_objectSpread({},this.props.config.events.onClick);e.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Input_objectSpread({},this.props.config)])}}handleChange(e){this.setState({text:e.target.value}),this.props.config.events&&this.props.config.events.onChange&&this.changeEventValueSubject.next(e.target.value)}handleChangeSubject(value){var params=Input_objectSpread({},this.props.config.events.onChange,{text:value.text||value});EventsService.a.trigger(this.props.config.events.onChange.name,[Input_objectSpread({},params,{file:this.textInput.files}),Input_objectSpread({},this.props.config)])}handleKeyDown(e){if(this.props.config.events&&this.props.config.events.onKeyDown){var event=this.props.config.events.onKeyDown,params=Input_objectSpread({},this.props.config.events.onKeyDown,{},event,{text:e.target.value.text||e.target.value,altKey:e.altKey,charCode:e.charCode,ctrlKey:e.ctrlKey,key:e.key,keyCode:e.keyCode,locale:e.locale,location:e.location,metaKey:e.metaKey,repeat:e.repeat,shiftKey:e.shiftKey,which:e.which});EventsService.a.trigger(event.name,[params,Input_objectSpread({},this.props.config)])}}handleFocus(){this.setState({focus:!0})}handleBlur(){this.setState({focus:!1})}}function Iframe_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Iframe_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Iframe_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Iframe_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Input_Input,"Input");var Iframe_Block=__webpack_require__(50).Block;class Iframe_Iframe extends react.Component{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={hovered:!1},this.pref=ServiceFactory.a.get(Consts.Vb),this.state.iframeSettings=this.props.config.iframeSettings,this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}conditionalConfigMerge(){var fromRender=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var merger=()=>{var arr=Object(Utils.H)(this.props.config.conditionalConfigMerge)?[this.props.config.conditionalConfigMerge]:this.props.config.conditionalConfigMerge;for(var i in arr){var settings=arr[i],cond=settings.c?new Condition.a(settings.c):null;settings.config&&(null===cond||cond&&cond.check(this.props.config,settings,this.props.config))&&objectAssignDeep_default.a.withOptions(this.props.config,[settings.config],settings.options||{arrayBehaviour:"replace"})}};fromRender&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||merger()}catch(e){}}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var phFuncs=Array.isArray(this.props.config.placeHoldersFunctions)?[...this.props.config.placeHoldersFunctions,...extraFuncs]:extraFuncs,a=Object(Utils.U)(this.props.config,phFuncs,{},Iframe_objectSpread({},this.props.config,{},extraData));Object.assign(this.props.config,a)}catch(e){}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}shouldHide(){var hide=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(Utils.kb)(hide)}render(){this.conditionalConfigMerge(!0),Object(Utils.V)(this.props.config);var containerProps={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},html=null;this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;if(this.shouldHide())return html;var iframeSettings=this.props.config.iframeSettings,attr={src:this.state.src||this.props.config.src||iframeSettings.src||"",width:iframeSettings.width||"300px",height:iframeSettings.height||"300px",frameBorder:iframeSettings.frameBorder||"0",scrolling:iframeSettings.scrolling||"no",style:iframeSettings.style||{}};iframeSettings.allowFullScreen&&(attr.allowFullScreen=iframeSettings.allowFullScreen);var iframeHtml=react.createElement("iframe",attr);return html=react.createElement(Iframe_Block,{style:Iframe_objectSpread({},this.props.config.style||{},{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:containerProps},iframeHtml)}componentDidCatch(error,info){LoggerService.a.debug(error,info)}handleMouseEnter(event){this.setState({hovered:!0}),this.props.config.events&&this.props.config.events.onMouseEnter&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseEnter.name,[Iframe_objectSpread({},this.props.config.events.onMouseEnter,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}handleMouseLeave(event){this.setState({hovered:!1}),this.props.config.events&&this.props.config.events.onMouseLeave&&(event.stopPropagation(),event.preventDefault(),EventsService.a.trigger(this.props.config.events.onMouseLeave.name,[Iframe_objectSpread({},this.props.config.events.onMouseLeave,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})]))}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=Iframe_objectSpread({},addedParams=void 0===addedParams.active?null:addedParams,{},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,Iframe_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}ComponentsFactory.a.add(()=>Iframe_Iframe,"Iframe");var get=__webpack_require__(23),get_default=__webpack_require__.n(get);class Separator_Separator extends react_default.a.Component{constructor(props){super(props),this.configurable={style:get_default()(this.props,"config.style",{})}}render(){return react_default.a.createElement("div",null,react_default.a.createElement("hr",{style:this.configurable.style}))}}function ItemsContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function ItemsContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ItemsContainer_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ItemsContainer_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Separator_Separator,"Separator");var ItemsContainer_Block=__webpack_require__(50).Block;class ItemsContainer_ItemsContainer extends react.Component{constructor(props){super(props)}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}}componentWillUnmount(){this.mounted=!1}createComponents(){var childrenComponents;if(this.props.config.components){var components=this.props.config.components,itemStyle=this.props.config.itemStyle,self=this;childrenComponents=Object.keys(this.props.config.components).map((function(componentKey){var ComponentObject=ComponentsFactory.a.createComponent("Item"),config=ItemsContainer_objectSpread({},components[componentKey]);return config.style=ItemsContainer_objectSpread({},itemStyle,{},components[componentKey].style),react.createElement(ComponentObject,{key:componentKey,config:config,onClick:self.handleItemClick.bind(this,componentKey)})}))}return childrenComponents}render(){var children=this.createComponents();return react.createElement(ItemsContainer_Block,{style:this.props.config.style},children)}handleItemClick(componentKey,event){}}function DropDown_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DropDown_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DropDown_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DropDown_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>ItemsContainer_ItemsContainer,"ItemsContainer");var DropDown_Block=__webpack_require__(50).Block;class DropDown_DropDown extends react.Component{constructor(props){super(props),this.state={selected:props.config?props.config.options[props.config.selectedOption]:{label:props.placeholder||"Select...",value:""},isOpen:!1,hovered:!1,menuItemHoveredIndex:-1},this.mounted=!0,this.handleDocumentClick=this.handleDocumentClick.bind(this),this.fireChangeEvent=this.fireChangeEvent.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}componentWillReceiveProps(newProps){newProps.config&&newProps.config.options[newProps.config.selectedOption]!==this.state.selected&&this.setState({selected:newProps.config.options[newProps.config.selectedOption]})}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}document.addEventListener("click",this.handleDocumentClick,!1)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("click",this.handleDocumentClick,!1)}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleItemMouseEnter(index){this.setState({menuItemHoveredIndex:index})}handleItemMouseLeave(){this.setState({menuItemHoveredIndex:-1})}handleDocumentClick(event){this.mounted&&(react_dom.findDOMNode(this).contains(event.target)||this.setState({isOpen:!1}))}handleMouseDown(event){"mousedown"===event.type&&0!==event.button||(event.stopPropagation(),event.preventDefault(),this.setState({isOpen:!this.state.isOpen}))}setValue(option){var newState={selected:option,isOpen:!1};this.fireChangeEvent(newState),this.setState(newState)}fireChangeEvent(newState){newState.selected!==this.state.selected&&this.props.onChange&&this.props.onChange(newState.selected)}renderOption(option,index){var value=option.value||option.label||option,label=option.label||("string"==typeof option?option:" "),separator=index>0?react.createElement(DropDown_Block,{style:this.props.config.optionSeparatorStyle}):null,optionHoverStyle=this.state.menuItemHoveredIndex===index&&this.props.config.optionHoverStyle?this.props.config.optionHoverStyle:{};return react.createElement(DropDown_Block,{key:value},separator,react.createElement("div",{style:DropDown_objectSpread({},option.style,{},this.props.config.optionStyle,{},optionHoverStyle),onMouseDown:this.setValue.bind(this,option),onClick:this.setValue.bind(this,option),onMouseEnter:()=>this.handleItemMouseEnter(index),onMouseLeave:()=>this.handleItemMouseLeave(index)},"text"==this.props.config.optionView?option.text:label))}renderMenu(){var ops=this.props.config.options.map((option,index)=>this.state.selected===option?null:this.renderOption(option,index));return ops.length?ops:react.createElement("div",null,"No options found")}getSelectedValueByConfig(){return{value:"text"==this.props.config.optionView?this.state.selected.text:this.state.selected.label,selectedStyle:DropDown_objectSpread({},this.props.config.optionStyle,{},this.state.selected&&this.state.selected.style)}}getBorderByMenuState(){var config=this.props.config.style,defaultBorderRadius=config&&config.borderRadius&&+config.borderRadius.replace("px","");if(!isNaN(defaultBorderRadius)){var regularBorderRaduis=`${defaultBorderRadius}px`,dividedBorderRadius=`${defaultBorderRadius/2}px`;return this.state.isOpen&&this.props.config.isAnimate?{borderTopLeftRadius:regularBorderRaduis,borderTopRightRadius:regularBorderRaduis,borderBottomLeftRadius:dividedBorderRadius,borderBottomRightRadius:dividedBorderRadius}:{borderTopLeftRadius:regularBorderRaduis,borderTopRightRadius:regularBorderRaduis,borderBottomLeftRadius:regularBorderRaduis,borderBottomRightRadius:regularBorderRaduis}}return{}}render(){var containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)},_this$getSelectedValu=this.getSelectedValueByConfig(),value=_this$getSelectedValu.value,selectedStyle=_this$getSelectedValu.selectedStyle,menu=this.state.isOpen?react.createElement(DropDown_Block,null,this.renderMenu()):null,containerHoverStyle=this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{},displayStyleToggle={display:this.state.isOpen?"block":"none"};return react.createElement(DropDown_Block,{style:DropDown_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style,{},containerHoverStyle,{},this.getBorderByMenuState()),props:containerProps},react.createElement("div",{onMouseDown:this.handleMouseDown.bind(this),style:selectedStyle},value),react.createElement(DropDown_Block,{style:DropDown_objectSpread({},this.props.config.optionsContainerStyle,{},displayStyleToggle)},menu))}}function SearchEngineSelect_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchEngineSelect_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchEngineSelect_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchEngineSelect_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}DropDown_DropDown.defaultProps={baseClassName:"Dropdown"},ComponentsFactory.a.add(()=>DropDown_DropDown,"DropDown");class SearchEngineSelect_SearchEngineSelect extends react.Component{constructor(props){super(props),this.search=ServiceFactory.a.get(Consts.mc),this.state={options:this.searchEngines2Options(),selectedOption:this.search.getTempOrCurrentSearchEngineIndex()}}render(){var state=this.getStateWithTempOrCurrentEngine();return react.createElement(DropDown_DropDown,{config:state,onChange:this.handleClick.bind(this)})}getStateWithTempOrCurrentEngine(){return SearchEngineSelect_objectSpread({},this.props.config,{},this.state,{selectedOption:this.search.getTempOrCurrentSearchEngineIndex()})}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}}componentWillUnmount(){this.mounted=!1}handleClick(selectedOption){if(this.search.setCurrentSearchEngine(selectedOption.value),this.setState({selectedOption:this.search.getTempOrCurrentSearchEngineIndex()}),this.props.config.events&&this.props.config.events.onChange){var params=SearchEngineSelect_objectSpread({},this.props.config.events.onChange),engineId={engineId:this.search.getEngines()[this.search.getTempOrCurrentSearchEngineIndex()].id};EventsService.a.trigger(this.props.config.events.onChange.name,[SearchEngineSelect_objectSpread({},params,{},this.props.config,{},engineId)])}}searchEngines2Options(){for(var options=[],engines=this.search.getEngines(),i=0;i<Object.keys(engines).length;i++){var item=engines[i],style=this.setStyle(item);options.push({label:item.logo?"":item.shortName,text:item.shortName||item.id||"",value:item.id,style:style})}return options}setStyle(item){return"text"==this.props.config.optionView?{color:item.engineColor||this.props.config.defaultEngineColor}:item.logo?{backgroundImage:`url(content/images/${item.logo})`}:{}}}function SearchAutoSuggest_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SearchAutoSuggest_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SearchAutoSuggest_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SearchAutoSuggest_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SearchEngineSelect_SearchEngineSelect,"SearchEngineSelect");var SearchAutoSuggest_Block=__webpack_require__(50).Block;class SearchAutoSuggest_SearchAutoSuggest extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.search=ServiceFactory.a.get(Consts.mc),this.state={rows:[],selected:-1,style:{}}}componentWillUpdate(nextProps,nextState){if(nextProps.config.forceSearchToFirstExternalSuggest&&nextState.rowsChanged)for(var suggestObjectKey in nextState.rowsChanged=!1,nextState.rows){var suggestObject=nextState.rows[suggestObjectKey];if(this.isObjectFromExternalAPI(suggestObject)){ServiceFactory.a.get(Consts.mc).setSearchObject(nextProps.config.stringId,{clickUrl:suggestObject.clickUrl,tracking:suggestObject.tracking});break}}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(args){this.setState({selected:args[0]})}handleMouseClick(args){var selectedObject=this.state.rows[this.state.selected];if(Object(Utils.H)(selectedObject)||(selectedObject={text:selectedObject}),EventsService.a.trigger(Consts.h,[selectedObject]),this.props.config.events&&this.props.config.events.onClick){var params=SearchAutoSuggest_objectSpread({},this.props.config.events.onClick,{},selectedObject,{searchObject:selectedObject});EventsService.a.trigger(this.props.config.events.onClick.name,[params,SearchAutoSuggest_objectSpread({},this.props.config)])}}isObjectFromExternalAPI(object){return"defaultSuggest"!=object.__listId}renderRows(){var self=this,dir=this.props.config.direction||"ltr",firstExternalSuggestDisplayed=!1;return this.state.rows.map((row,id)=>{var suggestObject=Object(Utils.H)(row)?row:{text:row};if(suggestObject.text){var rowStyle={},rowStyleFirstForced=self.props.config.rowStyleFirstForced||!1,rowStyleFirstForcedExists=rowStyleFirstForced&&!Object(Utils.I)(rowStyleFirstForced),externalSuggest=self.isObjectFromExternalAPI(row);if(rowStyleFirstForcedExists&&!firstExternalSuggestDisplayed&&externalSuggest)firstExternalSuggestDisplayed=!0,rowStyle=rowStyleFirstForced;else{var rowStyleSelected=self.props.config.rowStyleSelected||!1;rowStyle=rowStyleSelected&&!Object(Utils.I)(rowStyleSelected)&&self.state.selected===id?rowStyleSelected:self.props.config.rowStyle}Object.assign(rowStyle,{display:"flex",flexDirection:"row",alignItems:"center"});var imageComp=self.getImageComponent(suggestObject.image||suggestObject.imageUrl),keywordStyle=self.props.config.keywordStyle||!1;keywordStyle=keywordStyle||{};var suggestTextSplitted=Object(Utils.eb)(suggestObject.text,self.query);return react.createElement("div",{key:id,dir:dir,style:rowStyle,onMouseEnter:self.handleMouseEnter.bind(self,[id]),onClick:self.handleMouseClick.bind(self,[id])},imageComp,self.getSpaceBetweenComponent(imageComp),suggestTextSplitted[0],react.createElement("span",{style:keywordStyle},suggestTextSplitted[1]),suggestTextSplitted[2])}})}getImageComponent(imageUrl){if(!this.props.config.iconSettings)return null;if(Object(Utils.D)(this.props.config.iconSettings.mode))return null;var style=SearchAutoSuggest_objectSpread({height:this.props.config.rowStyle.height||"auto"},this.props.config.iconSettings.style);switch(this.props.config.iconSettings.mode){case"enable":var imageSrc=imageUrl||(Object(Utils.D)(this.props.config.iconSettings.fallbackImage)?Consts.Oc:this.props.config.iconSettings.fallbackImage);return react.createElement("img",{style:style,src:imageSrc});case"enableExceptMissingImages":return imageUrl?react.createElement("img",{style:style,src:imageUrl}):null;default:return null}}getSpaceBetweenComponent(imageComp){return imageComp?react.createElement("span",{style:{width:this.props.config.iconSettings.spaceBetween||"5px"}}):null}render(){var component=react.createElement("div",{style:{display:"none"}});return!this.props.config.hide&&this.state.rows.length>0&&(component=react.createElement(SearchAutoSuggest_Block,{style:SearchAutoSuggest_objectSpread({},this.props.config.style,{},this.state.style)},this.renderRows())),component}}function SupportButton_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SupportButton_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SupportButton_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SupportButton_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SearchAutoSuggest_SearchAutoSuggest,"SearchAutoSuggest");var SupportButton_require=__webpack_require__(50),InlineBlock=SupportButton_require.InlineBlock,SupportButton_Block=SupportButton_require.Block;class SupportButton_SupportButton extends react.Component{constructor(props){super(props),this.state={isOpen:!1,menuStyle:{},style:{}}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleSupportButtonClick(){this.setState({isOpen:!this.state.isOpen})}renderMenu(){var components=this.props.config.components,menu=Object.keys(components).map((key,index)=>{var component=components[key],ComponentObject=ComponentsFactory.a.createComponent(component.type);return react.createElement(SupportButton_Block,{key:key},react.createElement(ComponentObject,{config:component}))});return react.createElement(SupportButton_Block,{style:SupportButton_objectSpread({},this.props.config.menuStyle,{},this.state.menuStyle),key:"menu"},menu)}render(){var boundedClick=this.handleSupportButtonClick.bind(this),menu=this.state.isOpen?this.renderMenu():null;return this.props.config.animateClass&&(menu=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionEnterTimeout:0,transitionLeaveTimeout:0},menu)),react.createElement(InlineBlock,null,react.createElement(Item_Item,{onClick:boundedClick,config:this.props.config}),menu)}}function IntervalComponents_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function IntervalComponents_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?IntervalComponents_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):IntervalComponents_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>SupportButton_SupportButton,"SupportButton");var IntervalComponents_Block=__webpack_require__(50).Block;class IntervalComponents_IntervalComponents extends react.Component{constructor(props){super(props),this.state={hovered:!1,currentComponent:0,style:{},componentsState:{},activeComponents:[],inactiveComponents:[]},this.isIntervalComponent=!0,this.combinedStates={},this.pref=ServiceFactory.a.get(Consts.Vb),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.updateConfigFromConfig(),this.updateConfigFromState(),this.updateConfigFromLocalStorage(),this.populateStateArraysFromConfig(),this.insertStateIntoLocalStorage()}updateConfigFromConfig(){if(this.props.config.components){var comps=this.props.config.components,internalConfig={};for(var i in comps)if(comps.hasOwnProperty(i)&&comps[i].id){var comp=comps[i];internalConfig[comp.id]=!(comp.hasOwnProperty("active")&&!comp.active)}Object.assign(this.combinedStates,internalConfig)}}updateConfigFromState(){Object.assign(this.combinedStates,this.state.componentsState)}updateConfigFromLocalStorage(){var localStorageConfig=!!this.props.config.localStorageKey&&this.pref.get(this.props.config.localStorageKey);localStorageConfig&&"object"==typeof localStorageConfig&&Object.assign(this.combinedStates,localStorageConfig)}populateStateArraysFromConfig(){if(this.props.config.components){var compsObj={},compsArr=this.props.config.components;for(var i in compsArr)compsArr[i].id&&(compsObj[compsArr[i].id]=compsArr[i]);for(var id in this.state.activeComponents=[],this.state.inactiveComponents=[],this.combinedStates)compsObj[id]&&(this.combinedStates[id]&&!1!==compsObj[id].active?this.state.activeComponents.push(compsObj[id]):this.state.inactiveComponents.push(compsObj.id))}}insertStateIntoLocalStorage(){this.props.config.localStorageKey&&this.pref.set(this.props.config.localStorageKey,this.combinedStates)}componentDidMount(){if(this.mounted=!0,this.startInterval(),this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,this.clearInterval(),unregister.bind(this)(this.props.config.behaviours)}handleMouseEnter(event){this.setState({hovered:!0}),this.clearInterval()}handleMouseLeave(event){this.setState({hovered:!1}),this.startInterval()}startInterval(){var self=this,interval=self.props.config.interval||1e3;this.clearInterval(),this.interval=setInterval(()=>{self.updateConfigFromState(),self.populateStateArraysFromConfig(),self.setState({currentComponent:self.nextComponentKey()})},interval)}clearInterval(){this.interval&&clearInterval(this.interval)}renderComponent(){var components=this.state.activeComponents;if(!components.length)return null;var currentComponentKey=Object.keys(components)[this.state.currentComponent],CurrentComponent=ComponentsFactory.a.createComponent(components[currentComponentKey].type),componentConfig=components[currentComponentKey];return react.createElement(CurrentComponent,{config:componentConfig,key:currentComponentKey})}renderButton(){var components=this.state.activeComponents;if(!components.length)return null;var boundClick=this.handleClick.bind(this),currentComponentKey=this.nextComponentKey(),componentConfig=components[currentComponentKey].button,Button=ComponentsFactory.a.createComponent(componentConfig.type);return componentConfig=IntervalComponents_objectSpread({},componentConfig),react.createElement(Button,{config:componentConfig,onClick:boundClick,key:currentComponentKey})}componentWillUpdate(nextProps){}render(){if(0===this.state.activeComponents.length)return null;var currentButton=this.renderButton(),currentComponent=this.renderComponent(),containerProps={onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)};return react.createElement(IntervalComponents_Block,{props:containerProps,style:IntervalComponents_objectSpread({},this.props.config.style,{},this.state.style)},react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},currentButton),react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},currentComponent))}handleClick(){this.clearInterval(),this.setState({currentComponent:this.nextComponentKey()}),this.startInterval()}nextComponentKey(){var comp=0;return 1===this.state.activeComponents.length?comp:(this.state.currentComponent+1>=Object.keys(this.state.activeComponents).length||(comp=this.state.currentComponent+1),comp)}}function Popup_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}ComponentsFactory.a.add(()=>IntervalComponents_IntervalComponents,"IntervalComponents");var Popup_Block=__webpack_require__(50).Block;class Popup_Popup extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.state={isOpen:!1},this.popupComponentKey=!1}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}renderPopup(){var components=this.props.config.components,Popup=ComponentsFactory.a.createComponent(components.popup.type);return this.popupComponentKey=this.popupComponentKey||Object(index_esm.a)(),react.createElement(Popup,{config:components.popup,key:this.popupComponentKey})}render(){var popupComponent=this.state.isOpen?this.renderPopup():null,Button=ComponentsFactory.a.createComponent(this.props.config.components.button.type),buttonComponent=Button?react.createElement(Button,{config:this.props.config.components.button}):null;this.props.config.animateClass&&(popupComponent=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},popupComponent));var currentStyle=this.props.config.style;return this.state.style&&(currentStyle=function Popup_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Popup_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Popup_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},this.props.config.style,{},this.state.style)),react.createElement(Popup_Block,{style:currentStyle},buttonComponent,popupComponent)}}ComponentsFactory.a.add(()=>Popup_Popup,"Popup");var Clock_InlineBlock=__webpack_require__(50).InlineBlock;function Clock_FirstChild(props){return react.Children.toArray(props.children)[0]||null}class Clock_Clock extends react.Component{constructor(props){super(props),this.state={hide:this.props.config.hide}}componentWillReceiveProps(nextProps){this.state.hide!==nextProps.config.hide&&this.setState({hide:nextProps.config.hide})}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}this.startInterval()}componentWillUnmount(){this.mounted=!1,this.clearInterval()}clearInterval(){this.interval&&clearInterval(this.interval)}startInterval(){var self=this;this.clearInterval(),this.interval=setInterval(()=>{self.forceUpdate()},self.props.config.interval?self.props.config.interval:1e4)}render(){var prefService=ServiceFactory.a.get(Consts.Vb),dateFormat="{{DATE_FORMAT}}"!=prefService.get(Consts.L)?prefService.get(Consts.L):"{{d}}.{{m}}.{{y}}",d=new Date,hour=`${d.getHours()}:${`0${d.getMinutes()}`.slice(-2)}`,day=BrowserService.a.getTranslationOnlyIfExist(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][d.getDay()],prefService.get(Consts.Nc)),num=dateFormat.replace("{{m}}",d.getMonth()+1).replace("{{d}}",d.getDate()).replace("{{y}}",d.getFullYear()),component=null,txt=BrowserService.a.getTranslationOnlyIfExist(this.props.config.text,prefService.get(Consts.Nc));return this.state.hide||(component=react.createElement(Clock_InlineBlock,{style:this.props.config.style?this.props.config.style:{},key:"clock",onClick:this.props.onClick},txt,react.createElement(Clock_InlineBlock,{style:this.props.config.hourStyle},hour),react.createElement(Clock_InlineBlock,{style:this.props.config.dateStyle},react.createElement("p",{style:this.props.config.dayStyle},day),react.createElement("p",{style:this.props.config.numStyle},num)))),!this.props.config.hide&&this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{component:Clock_FirstChild,transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},this.props.config.hide?null:component)),component}}function Weather_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Weather_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Weather_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Weather_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Clock_Clock,"Clock");var Weather_require=__webpack_require__(50),Weather_InlineBlock=Weather_require.InlineBlock,Weather_Block=Weather_require.Block;class Weather_Weather extends react.Component{constructor(props){super(props);var prefService=ServiceFactory.a.get(Consts.Vb);this.state={isCelsius:"imperial"!==prefService.get(Consts.Vc),city:prefService.get(Consts.y),icon:"",style:{},iconStyle:{}},this.state.temperature=this.state.isCelsius?24:75,this.handleChangeDegrees=this.handleChangeDegrees.bind(this)}componentDidMount(){if(this.mounted=!0,register.bind(this)(this.props.config.behaviours),EventsService.a.trigger(Consts.Uc,[]),this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleChangeDegrees(){var prefService=ServiceFactory.a.get(Consts.Vb),newUnit=this.state.isCelsius?"imperial":"metric";prefService.set(Consts.Vc,newUnit),this.props.config.events.onUnitsChange&&EventsService.a.trigger(this.props.config.events.onUnitsChange.name,[{unit:newUnit}])}render(){var component=react.createElement("div",{style:{display:"none"},key:"emptyWeather"}),prefService=ServiceFactory.a.get(Consts.Vb),temperature=this.state.temperature,iconStyle=Weather_objectSpread({},this.props.config.iconStyle,{},this.state.iconStyle,{backgroundImage:this.state.icon}),city=this.state.city,unitsProp={onClick:this.handleChangeDegrees},degrees=BrowserService.a.getTranslationOnlyIfExist(this.state.isCelsius?"C":"F",prefService.get(Consts.Nc));return this.props.config.hide||(component=react.createElement(Weather_InlineBlock,{style:Weather_objectSpread({},this.props.config.style?this.props.config.style:{},{},this.state.style),key:"clock",onClick:this.props.onClick},react.createElement(Weather_Block,{style:this.props.config.tempStyle},react.createElement(Weather_InlineBlock,null,temperature),react.createElement(Weather_InlineBlock,{style:this.props.config.degStyle},"°"),react.createElement(Weather_Block,{style:this.props.config.unitsStyle,props:unitsProp},degrees)),react.createElement(Weather_InlineBlock,{style:this.props.config.frightStyle},react.createElement(Weather_Block,{style:iconStyle}),react.createElement(Weather_InlineBlock,{style:this.props.config.cityStyle},city)))),!this.props.config.hide&&this.props.config.animateClass&&(component=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},component)),component}}ComponentsFactory.a.add(()=>Weather_Weather,"Weather");__webpack_require__(87);function RssFeed_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function RssFeed_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?RssFeed_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):RssFeed_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var RssFeed_Block=__webpack_require__(50).Block;class RssFeed_RssFeed extends react.Component{constructor(props){super(props),this.state={hovered:!1,hide:this.props.config.hide},this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.pref=ServiceFactory.a.get(Consts.Vb);var track=ServiceFactory.a.get(Consts.Lc),rssFeed=this.pref.get(`rssFeed_${this.props.config.id}`),rssFeedLastUpdate=this.pref.get(`rssFeed_${this.props.config.id}_LastUpdate`);this.toggle=function(toggle){this.pref.set(`rssFeed_${this.props.config.id}_hide`,!toggle),this.setState({hide:!toggle})},this.changeFeed=function(feed,cb){this.pref.set(`rssFeed_${this.props.config.id}_feed`,feed),this.setState({feed:feed},cb)},this.getFeed=function(){Object(HttpService.a)({method:"get",url:this.props.config.feeds[this.state.feed]}).then(_ref=>{var response=_ref.data;rssFeedLastUpdate=(new Date).getTime();var xmlDoc=(new DOMParser).parseFromString(response,"text/xml"),rssItems=[],items=Array.prototype.slice.call(xmlDoc.getElementsByTagName("item"));this.props.config.sort&&items.sort((a,b)=>0==a.getElementsByTagName("pubDate").length&&0==b.getElementsByTagName("pubDate").length?0:0==b.getElementsByTagName("pubDate").length?-1:0==a.getElementsByTagName("pubDate").length?1:new Date(b.getElementsByTagName("pubDate")[0].textContent)-new Date(a.getElementsByTagName("pubDate")[0].textContent));for(var i=0;i<items.length&&i<this.props.config.numberOfItems;i++){var item=items[i];if(0!=item.getElementsByTagName("title").length&&0!=item.getElementsByTagName("link").length&&0!=item.getElementsByTagName("pubDate").length){var rssItem={title:item.getElementsByTagName("title")[0].textContent,link:item.getElementsByTagName("link")[0].textContent,pubDate:item.getElementsByTagName("pubDate")[0].textContent};if(item.getElementsByTagName("content").length>0||item.getElementsByTagName("thumbnail").length>0){var media=item.getElementsByTagName("content").length>0&&item.getElementsByTagName("content")[0].attributes.url?item.getElementsByTagName("content")[0]:item.getElementsByTagName("thumbnail")[0];media&&(rssItem.media={},media.attributes.url&&(rssItem.media.url=media.attributes.url.nodeValue),media.attributes.width&&(rssItem.media.width=`${media.attributes.width.nodeValue}px`),media.attributes.height&&(rssItem.media.height=`${media.attributes.height.nodeValue}px`))}rssItems.push(rssItem)}}if(rssFeed={title:xmlDoc.getElementsByTagName("title")[0].textContent,link:xmlDoc.getElementsByTagName("link")[0].textContent,items:rssItems},xmlDoc.getElementsByTagName("image").length>0){var image=xmlDoc.getElementsByTagName("image")[0];rssFeed.image={},image.getElementsByTagName("url").length>0&&(rssFeed.image.url=image.getElementsByTagName("url")[0].textContent),image.getElementsByTagName("title").length>0&&(rssFeed.image.title=image.getElementsByTagName("title")[0].textContent),image.getElementsByTagName("width").length>0&&(rssFeed.image.width=`${image.getElementsByTagName("width")[0].textContent}px`),image.getElementsByTagName("height").length>0&&(rssFeed.image.height=`${image.getElementsByTagName("height")[0].textContent}px`),image.getElementsByTagName("link").length>0&&(rssFeed.image.link=image.getElementsByTagName("link")[0].textContent)}this.state.id=parseInt(this.props.config.id),this.pref.set(`rssFeed_${this.props.config.id}_hide`,this.state.hide),this.pref.set(`rssFeed_${this.props.config.id}_feed`,this.state.feed),this.pref.set(`rssFeed_${this.props.config.id}`,rssFeed),this.pref.set(`rssFeed_${this.props.config.id}_LastUpdate`,rssFeedLastUpdate),this.renderHTML(),this.forceUpdate()}).catch(e=>{track.trackStatusEvent(Consts.W,"doPost error",`${e} @RssFeed constructor`)})},this.renderHTML=function(){var _this=this;var feed=this.pref.get(`rssFeed_${this.props.config.id}`),Image=ComponentsFactory.a.createComponent("Image"),Container=(ComponentsFactory.a.createComponent("Link"),ComponentsFactory.a.createComponent("Text"),ComponentsFactory.a.createComponent("Container")),DropDown=ComponentsFactory.a.createComponent("DropDown"),components=[],_loop=function _loop(i){var item=feed.items[i],imageConfig={parentStyle:RssFeed_objectSpread({},_this.props.config.imageParentStyle),style:RssFeed_objectSpread({},item.media&&item.media.width?{width:item.media.width}:{},{},item.media&&item.media.height?{height:item.media.height}:{},{},_this.props.config.imageStyle,{},item.media&&item.media.url?{}:{display:"none"}),image_location:item.media?item.media.url:null};var onLinkClick=()=>{EventsService.a.trigger(Consts.ec,[{url:item.link}])},decodedTitle=function htmlDecode(input){var e=document.createElement("div");return e.innerHTML=input,0===e.childNodes.length?"":e.childNodes[0].nodeValue}(item.title);components.push(react.createElement(RssFeed_Block,{key:i,style:_this.props.config.itemStyle},react.createElement(Image,{config:imageConfig,onClick:onLinkClick}),react.createElement("div",{style:RssFeed_objectSpread({},_this.props.config.imageSeparatorStyle,{},item.media&&item.media.url?{}:{display:"none"})}),react.createElement(RssFeed_Block,{style:_this.props.config.titlePubDateStyle},react.createElement("div",{style:_this.props.config.linkStyle,onClick:onLinkClick},decodedTitle),react.createElement(RssFeed_Block,{style:_this.props.config.pubDateStyle},function timeSince(date){var now=new Date,today=new Date(`${now.getFullYear()}-${now.getMonth()+1}-${now.getDate()}`),itemDay=new Date(`${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`),seconds=Math.floor((now-date)/1e3),interval=Math.floor(seconds/31536e3);return interval>1?`${interval} years ago`:1==interval?"1 year ago":(interval=Math.floor(seconds/2592e3))>1?`${interval} months ago`:1==interval?"1 month ago":(interval=Math.floor(seconds/86400))>1?`${interval} days ago`:today-itemDay==864e5?"yesterday":1==interval?"1 day ago":(interval=Math.floor(seconds/3600))>1?`${interval} hours ago`:1==interval?"1 hour ago":(interval=Math.floor(seconds/60))>1?`${interval} minutes ago`:1==interval?"1 minute ago":"just now"}(new Date(item.pubDate))))))};for(var i in feed.items)_loop(i);var onLogoClick=()=>{EventsService.a.trigger(Consts.fc,[{url:feed.image?feed.image.link:feed.link}])},imageStyle=RssFeed_objectSpread({},feed.image&&feed.image.width?{width:feed.image.width}:{},{},feed.image&&feed.image.height?{height:feed.image.height}:{},{},this.props.config.feedImageStyle,{display:feed.image&&feed.image.url?"true":"none"}),buttons=react.createElement(RssFeed_Block,{style:this.props.config.buttonsWrapperStyle},react.createElement(Container,{onClick:()=>{this.toggle(!1),EventsService.a.trigger(Consts.hc)},config:{style:this.props.config.buttonStyle,hover:this.props.config.buttonHoverStyle,components:[{type:"Text",text:"X",style:this.props.config.removeButtonStyle}]}}),react.createElement(DropDown,{config:{style:RssFeed_objectSpread({},this.props.config.buttonStyle,{},this.props.config.settingsButtonStyle),hover:RssFeed_objectSpread({},this.props.config.buttonHoverStyle,{color:"transparent"}),options:Object.keys(this.props.config.feeds).map(val=>({label:val,value:val})),valueWrapperStyle:this.props.config.dropDownValueWrapperStyle,optionStyle:this.props.config.dropDownOptionStyle,selectedOption:Object.keys(this.props.config.feeds).findIndex(x=>x===this.state.feed),optionSeparatorStyle:this.props.config.dropDownOptionSeparatorStyle,optionsContainerStyle:this.props.config.dropDownOptionsContainerStyle},onChange:val=>{this.changeFeed(val.value,this.getFeed)}}));this.html=[react.createElement(RssFeed_Block,{key:0,style:this.props.config.feedImageBackgroundStyle}),feed.image&&feed.image.url?react.createElement(RssFeed_Block,{key:1,style:this.props.config.headerStyle},buttons,react.createElement(RssFeed_Block,{style:this.props.config.feedImageParentStyle},react.createElement("img",{style:imageStyle,src:feed.image?feed.image.url:null,onClick:onLogoClick,title:feed.image.title?feed.image.title:feed.title}))):react.createElement(RssFeed_Block,{key:1,style:this.props.config.headerStyle},buttons,react.createElement(RssFeed_Block,{style:this.props.config.feedImageTitleWrapperStyle,onClick:onLogoClick},react.createElement("span",{style:this.props.config.feedImageTitleStyle,title:feed.image&&feed.image.title?feed.image.title:feed.title},feed.image&&feed.image.title?feed.image.title:feed.title))),react.createElement(RssFeed_Block,{key:2,style:RssFeed_objectSpread({},this.props.config.eventsWrapperStyle,{direction:function isRTL(s){return new RegExp("^[^֑-߿‏‫‮יִ-﷽ﹰ-ﻼ]*?[֑-߿‏‫‮יִ-﷽ﹰ-ﻼ]").test(s)}(feed.title)?"rtl":"ltr"})},components),react.createElement(RssFeed_Block,{key:3,style:this.props.config.moreWrapperStyle},react.createElement("span",{style:this.props.config.moreStyle,onClick:()=>{EventsService.a.trigger(Consts.gc,[{url:feed.link}])}},"More"))]},!rssFeed||(new Date).getTime()-rssFeedLastUpdate>6e4*this.props.config.reloadIntervalMinutes?(this.state.feed=this.props.config.defaultFeed,this.getFeed()):(this.state.hide="true"===this.pref.get(`rssFeed_${this.props.config.id}_hide`),this.state.feed=this.pref.get(`rssFeed_${this.props.config.id}_feed`),this.state.id=parseInt(this.props.config.id),this.renderHTML())}componentDidMount(){var self=this;if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours),EventsService.a.on(Consts.dc,(function handleAddFeed(args){if(self.state.hide){for(var i=1;i<self.state.id;i++)if("string"==typeof args[`${i}`]&&"true"===args[`${i}`]||"string"!=typeof args[`${i}`]&&args[`${i}`])return;self.toggle(!0)}}))}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){var containerProps={onClick:this.handleClick,onMouseEnter:this.handleMouseEnter.bind(this),onMouseLeave:this.handleMouseLeave.bind(this)};return this.state.hide?null:react.createElement(RssFeed_Block,{style:RssFeed_objectSpread({},this.props.config.style,{},this.state.style,{},this.state.hovered&&this.props.config.hover||this.props.hover&&this.props.config.parentHover?this.props.config.hover:{}),props:containerProps},this.html)}handleMouseEnter(event){this.setState({hovered:!0})}handleMouseLeave(event){this.setState({hovered:!1})}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){var addedParams={active:this.state.active},params=RssFeed_objectSpread({},addedParams=null==addedParams.active?null:addedParams,{},this.props.config.events.onClick);event.stopPropagation(),EventsService.a.trigger(this.props.config.events.onClick.name,[params,RssFeed_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}function RssFeedsContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function RssFeedsContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?RssFeedsContainer_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):RssFeedsContainer_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>RssFeed_RssFeed,"RssFeed");class RssFeedsContainer_RssFeedsContainer extends react.Component{constructor(props){super(props),this.state={hovered:!1,hideAddButton:this.props.config.maxNumOfFeeds==this.props.config.numOfFeeds},this.pref=ServiceFactory.a.get(Consts.Vb),this.props.config.components=[];var cc=this.pref.get("cc"),feeds={};for(var i in this.props.config.verticals){var feedsByCountry=this.props.config.feeds[this.props.config.verticals[i]];feedsByCountry&&Object.assign(feeds,feedsByCountry[cc]?feedsByCountry[cc]:feedsByCountry.US)}for(var events={onClick:{name:Consts.dc,local_storage:[]}},_i=1;_i<=this.props.config.maxNumOfFeeds;_i++)this.props.config.components.push(RssFeedsContainer_objectSpread({},this.props.config.feed,{id:_i,hide:_i>this.props.config.numOfFeeds,defaultFeed:this.props.config.defaultFeeds[_i-1],feeds:feeds})),events.onClick.local_storage.push({field:`${_i}`,key:[`rssFeed_${_i}_hide`]});this.props.config.components.push({type:"Container",style:this.props.config.plusButtonWrapperStyle,components:[{type:"Container",style:this.props.config.plusButtonStyle,hover:this.props.config.plusButtonHoverStyle,components:[{type:"Text",text:"+"}],events:events}]})}render(){this.props.config.components=this.props.config.components||[],this.props.config.components[this.props.config.components.length-1].hide=this.state.hideAddButton;var Container=ComponentsFactory.a.createComponent("Container");return react.createElement(Container,{config:this.props.config})}componentDidMount(){var self=this;if(this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}EventsService.a.on(Consts.dc,(function handleAddFeed(args){for(var hiddenFields=0,i=1;i<=self.props.config.maxNumOfFeeds;i++)("string"==typeof args[`${i}`]&&"true"===args[`${i}`]||"string"!=typeof args[`${i}`]&&args[`${i}`])&&hiddenFields++;1==hiddenFields&&self.setState({hideAddButton:!0})})),EventsService.a.on(Consts.hc,(function handleRemoveFeed(){self.setState({hideAddButton:!1})}))}}function Countdown_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Countdown_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Countdown_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Countdown_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>RssFeedsContainer_RssFeedsContainer,"RssFeedsContainer");class Countdown_Countdown extends react.Component{constructor(props){super(props),this.state={style:{}},this.countTo=this.props.config.countTo||"",this.countTo=Date.parse(this.countTo),this.state.hide=isNaN(this.countTo),this.updateInterval=this.props.config.updateInterval||1e3,this.parentStyle=this.props.config.parentStyle||{};var style={display:"none"};["days","hours","minutes","seconds"].forEach(element=>{this.props.config[element]=this.props.config[element]||{hide:!0},this[element]={},this[element].style=this.props.config[element].hide?style:this.props.config[element].style?this.props.config[element].style:{},this[element].beforeText=this.props.config[element].beforeText||"",this[element].beforeStyle=this.props.config[element].hide?style:this.props.config[element].beforeStyle?this.props.config[element].beforeStyle:{},this[element].afterText=this.props.config[element].afterText,this[element].afterStyle=this.props.config[element].hide?style:this.props.config[element].afterStyle?this.props.config[element].afterStyle:{},this[element].containerStyle=this.props.config[element].hide?style:this.props.config[element].containerStyle?this.props.config[element].containerStyle:{}}),this.handleClick=this.handleClick.bind(this),this.tickCounter=0,this.tick()}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}render(){return Object(Utils.V)(this.props.config),this.props.config.hide||this.state.hide?null:react.createElement("div",{style:this.parentStyle,onClick:this.handleClick},react.createElement("div",{style:this.days.containerStyle},react.createElement("div",{style:this.days.beforeStyle},this.days.beforeText),react.createElement("div",{style:this.days.style},this.state.days),react.createElement("div",{style:this.days.afterStyle},this.days.afterText)),react.createElement("div",{style:this.hours.containerStyle},react.createElement("div",{style:this.hours.beforeStyle},this.hours.beforeText),react.createElement("div",{style:this.hours.style},this.state.hours),react.createElement("div",{style:this.hours.afterStyle},this.hours.afterText)),react.createElement("div",{style:this.minutes.containerStyle},react.createElement("div",{style:this.minutes.beforeStyle},this.minutes.beforeText),react.createElement("div",{style:this.minutes.style},this.state.minutes),react.createElement("div",{style:this.minutes.afterStyle},this.minutes.afterText)),react.createElement("div",{style:this.seconds.containerStyle},react.createElement("div",{style:this.seconds.beforeStyle},this.seconds.beforeText),react.createElement("div",{style:this.seconds.style},this.state.seconds),react.createElement("div",{style:this.seconds.afterStyle},this.seconds.afterText)))}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){event.stopPropagation();var params=Countdown_objectSpread({},this.props.config.events.onClick);EventsService.a.trigger(this.props.config.events.onClick.name,[params,Countdown_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}tick(){var tock=setInterval(()=>{if(this.updateCount()){if(clearInterval(tock),!this.props.config.events)return;if(this.tickCounter>2&&this.props.config.events.onDone){var params=Countdown_objectSpread({},this.props.config.events.onDone);EventsService.a.trigger(this.props.config.events.onDone.name,[params,Countdown_objectSpread({},this.props.config)])}if(this.tickCounter<=2&&this.props.config.events.onZeroStart){var _params=Countdown_objectSpread({},this.props.config.events.onZeroStart);EventsService.a.trigger(this.props.config.events.onZeroStart.name,[_params,Countdown_objectSpread({},this.props.config)])}}},this.updateInterval)}updateCount(){var days,hours,minutes,seconds,now=Date.parse(new Date),msPassed=this.countTo-now;return days=hours=minutes=seconds="00",msPassed>0&&(days=(days=Math.floor(msPassed/864e5))<10?`00${days}`.slice(-2):days,hours=`00${Math.floor(msPassed/36e5%24)}`.slice(-2),minutes=`00${Math.floor(msPassed/1e3/60%60)}`.slice(-2),seconds=`00${Math.floor(msPassed/1e3%60)}`.slice(-2)),this.tickCounter++,"00"===this.state.days&&"00"===this.state.hours&&"00"===this.state.minutes&&"00"===this.state.seconds||(this.setState({days:days,hours:hours,minutes:minutes,seconds:seconds}),!1)}}function Maps_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Maps_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Maps_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Maps_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Countdown_Countdown,"Countdown");var Maps_Block=__webpack_require__(50).Block;class Maps_Maps extends react.Component{constructor(props){super(props),this.defaultMode=props.config.defaultMode||"place",this.state={style:{},mode:this.defaultMode,params:{},shouldUpdateIframes:!1},this.supportedIframes={},this.currentParams={},this.currentParamsAll={};var modes=props.config.modes||{};for(var mode in this.modeConfig={},modes)modes.hasOwnProperty(mode)&&!modes[mode].hide&&(this.supportedIframes[mode]=!0,this.modeConfig[mode]=modes[mode]);this.currentMode=this.defaultMode,this.allowedParams=Maps_objectSpread({place:["q"],directions:["origin","destination"],search:["q"],view:["center","zoom"]},this.buildConfigObjectByKey("allowedParams")),this.fallbaclModeParam={place:{q:" "},directions:{origin:" ",destination:" "},search:{q:" "},view:{center:"0,0",q:" "}},this.defaultModeParams=Maps_objectSpread({},this.fallbaclModeParam,{},this.buildConfigObjectByKey("defaultModeParams")),this.fallbaclModeParam=Maps_objectSpread({},this.defaultModeParams,{},this.fallbaclModeParam),this.defaultParams=props.config.defaultParams||{},this.iframeSettings=this.buildConfigObjectByKey("iframeSettings"),this.iframeComps=this.buildConfigObjectByKey("iframe"),this.iframeParentStyle=this.buildConfigObjectByKey("iframeParentStyle"),this.geoData=Maps_objectSpread({city:" ",country_name:" ",state:" ",latitude:0,longitude:0},props.config.defaultGeo||{}),this.pref=ServiceFactory.a.get(Consts.Vb);var prefGeo=this.pref.get(Consts.lb);for(var key in this.geoData=Maps_objectSpread({},this.geoData,{},Object(Utils.H)(prefGeo)?prefGeo:{}),this.apiKey=props.config.apiKey||"AIzaSyD8-LmPff_7iYmE8syMYQJY-xZlF9a-oWY",this.baseSrc=props.config.baseSrc||"https://www.google.com/maps/embed/v1/{{mode}}?key={{apiKey}}{{params}}",this.updateIframeEvent=this.props.config.updateIframeEvent||"MAPS_WIDGET_IFRAME_UPDATE",this.iframes={},this.supportedIframes){var iframesBehaviours={behaviours:[{on:this.updateIframeEvent,do:"SET_CONFIG",c:{arg:"mode",val:key,op:"="}}]};this.iframes[key]=this.createIframe(this.buildIframeObject(key,null,iframesBehaviours),key)}this.handleClick=this.handleClick.bind(this)}buildConfigObjectByKey(key){var obj={};for(var mode in this.supportedIframes)obj[mode]=this.modeConfig[mode][key];return obj}buildIframeObject(mode,mapApiParamsObj,reactConfig){var src=this.buildMapSrc(mode,mapApiParamsObj);if(this.iframeComps[mode]){var config=this.iframeComps[mode],iframeSettings=Maps_objectSpread({},config.iframeSettings,{src:src});return Maps_objectSpread({},config,{iframeSettings:iframeSettings})}return Maps_objectSpread({iframeSettings:Maps_objectSpread({},this.iframeSettings[mode],{src:src})},reactConfig||{})}buildMapSrc(mode,paramsObj){var _mode=mode||this.defaultMode,src=this.baseSrc.replace("{{mode}}",_mode).replace("{{apiKey}}",this.apiKey),params="",combinedParams=Maps_objectSpread({},this.defaultModeParams[_mode]||{},{},this.defaultParams,{},paramsObj||{});for(var key in combinedParams=this.getParams(mode,combinedParams))params+=`&${key}=${combinedParams[key]}`;return src=src.replace("{{params}}",params),encodeURI(src)}createIframe(config,key){var ComponentObject=ComponentsFactory.a.createComponent("Iframe");return react.createElement(ComponentObject,{key:key,config:config,parentState:this.state[key],hover:this.state.hovered})}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}buildModesButtons(){var response=null,container={type:"Container",style:this.props.config.modeButtonsContainerStyle||{},components:[]};for(var mode in this.supportedIframes){var button=this.modeConfig[mode].modeButton;button.style=mode===this.currentMode?button.selectedStyle:button.notSelectedStyle,container.components.push(button)}return container.components.length?(container={container:container},response=this.createChildrenComponents(container)):response}buildModesInputs(mode){var _mode=mode||this.currentMode,config=this.buildConfigObjectByKey("paramsBoxes");return Object(Utils.H)(config)&&Object(Utils.H)(config[_mode])?this.createChildrenComponents(config[_mode]):null}createChildrenComponents(components){var childrenComponents,self=this;return components&&(childrenComponents=Object.keys(components).map(componentKey=>{if(Object(Utils.H)(components[componentKey])&&components[componentKey].type){var ComponentObject=ComponentsFactory.a.createComponent(components[componentKey].type);return react.createElement(ComponentObject,{key:componentKey,config:components[componentKey],hover:self.state.hovered})}})),childrenComponents}getCurrentIframe(){var divStyle={};for(var key in this.iframes)divStyle[key]={display:"none"};divStyle[this.currentMode]=Maps_objectSpread({},this.iframeParentStyle[this.currentMode]);var that=this;return Object.keys(this.iframes).map(componentKey=>react.createElement("div",{key:componentKey,style:divStyle[componentKey]},that.iframes[componentKey]))}getParams(mode,params){var obj=this.getRelevantParams(mode,Maps_objectSpread({},this.currentParams[mode],{},this.state.params,{},params));for(var key in obj)obj[key]=obj[key]?obj[key].trim():obj[key];obj=this.fillMandatoryParams(mode,obj);var that=this,str=JSON.stringify(obj);return Object.keys(this.geoData).map(key=>{var rgx=new RegExp(`{{${key}}}`,"g");str=str.replace(rgx,that.geoData[key])}),obj=JSON.parse(str),this.currentParams[mode]=obj,Object.assign(this.currentParamsAll,obj),Object.assign(this.state.params,obj),obj}getRelevantParams(mode,params){var paramsObj=Maps_objectSpread({},params);if(this.allowedParams[mode])for(var key in params)this.allowedParams[mode].includes(key)||delete paramsObj[key];return paramsObj}fillMandatoryParams(mode,params){if(!mode)return params;var obj=Maps_objectSpread({},params||{});for(var param in this.defaultModeParams[mode])obj[param]=obj[param]||this.fallbaclModeParam[mode][param];return obj}updateIframes(forceParams){for(var mode in forceParams=forceParams||{},this.iframes){var currentParams=this.currentParams[mode],newParams=this.getParams(mode,Maps_objectSpread({},this.state.params,{},forceParams.params));Object(Utils.b)(currentParams,newParams)||EventsService.a.trigger(this.updateIframeEvent,[{mode:mode,config:this.buildIframeObject(mode,newParams)}])}}componentWillUpdate(nextProps){}render(){var maps;return Object(Utils.V)(this.props.config),this.currentMode=this.state.mode,maps=this.props.config.hide||this.state.hide?null:react.createElement(Maps_Block,{onClick:this.handleClick,style:this.props.config.style},this.buildModesButtons(),this.buildModesInputs(),this.getCurrentIframe()),this.props.config.animateClass&&(maps=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},maps)),maps}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){event.stopPropagation();var params=Maps_objectSpread({},this.props.config.events.onClick);EventsService.a.trigger(this.props.config.events.onClick.name,[params,Maps_objectSpread({},this.props.config)])}this.props.onClick&&this.props.onClick(event)}}function Image_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Image_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Image_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Image_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Maps_Maps,"Maps");class Image_Image extends GenericReactComponentWrapper_GenericReactComponentWrapper{constructor(props){super(props),this.conditionalConfigMerge(),this.originalConfig=JSON.parse(JSON.stringify(props.config)),this.replaceConfigFunc(),this.state={style:{}},this.fallbackImage="content/image/transparent_img.png",this.dataAuto=this.getDataAutoAttr(props),this.handleClick=this.handleClick.bind(this)}conditionalConfigMerge(){var fromRender=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(!this.props.config.conditionalConfigMerge)return;var merger=()=>{var arr=Object(Utils.H)(this.props.config.conditionalConfigMerge)?[this.props.config.conditionalConfigMerge]:this.props.config.conditionalConfigMerge;for(var i in arr){var settings=arr[i],cond=settings.c?new Condition.a(settings.c):null;Object(Utils.H)(settings.config)&&(null===cond||cond&&cond.check(this.props.config,settings,this.props.config))&&objectAssignDeep_default.a.withOptions(this.props.config,[settings.config],settings.options||{arrayBehaviour:"replace"})}};fromRender&&this.props.config.conditionalConfigMerge.hasOwnProperty("onRender")&&!this.props.config.conditionalConfigMerge.onRender||merger()}catch(e){}}replaceConfigFunc(){var extraFuncs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],extraData=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Object(Utils.A)(this.originalConfig.placeHoldersFunctions)){var phFuncs=Object(Utils.A)(extraFuncs)?[...this.originalConfig.placeHoldersFunctions,...extraFuncs]:this.originalConfig.placeHoldersFunctions,a=Object(Utils.U)(this.originalConfig,phFuncs,{},Image_objectSpread({},this.originalConfig,{},extraData));Object.assign(this.props.config,a)}}catch(e){}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours),this.props.config.events&&this.props.config.events.onMount&&EventsService.a.trigger(this.props.config.events.onMount.name,[Image_objectSpread({},this.props.config.events.onMount,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()})])}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}shouldHide(){var hide=this.state.hasOwnProperty("hide")?this.state.hide:!!this.props.config.hasOwnProperty("hide")&&this.props.config.hide;return Object(Utils.kb)(hide)}render(){if(this.conditionalConfigMerge(!0),Object(Utils.V)(this.props.config),this.shouldHide())return null;var style=Image_objectSpread({},this.props.config.style||{},{},this.state.style||{},{},this.props.config.hover&&Object.keys(this.props.config.hover).length&&this.state.hovered?this.props.config.hover:{}),imgSrc=this.props.config.dynamic?this.getCurrentImage():this.props.config.image_location,parentStyle=Image_objectSpread({},this.props.config.parentStyle||{},{},this.state.parentStyle||{});if(this.props.config.options){var state=ServiceFactory.a.get(Consts.Vb).get(this.props.config.key);imgSrc=this.props.config.options[state].image_location}if(!imgSrc)return null;var childImage=react.createElement("img",{"data-auto":this.dataAuto,onClick:this.handleClick,style:style,src:imgSrc}),elem=react.createElement("div",{style:parentStyle},childImage),animation=this.state.animateClass||this.props.config.animateClass;return animation&&(elem=react.createElement("div",{style:parentStyle},react.createElement(react_addons_css_transition_group_default.a,{transitionName:animation,transitionAppear:!0,transitionAppearTimeout:0,transitionEnterTimeout:0,transitionLeaveTimeout:0},childImage))),elem}getCurrentImage(){var image=!1,lsImage=localStorage[this.props.config.image_key]||"",ignoreImagePath=this.props.config.ignoreImagePath||["http","data:"];return!(image=this.state.image&&this.state.image.hasOwnProperty("src")?this.state.image.src:this.props.config.image_path&&""!==lsImage&&!Object(Utils.hb)(lsImage,ignoreImagePath)?this.props.config.image_path+lsImage:lsImage)&&this.props.config.fallback_image&&(image=this.props.config.fallback_image),Object(Utils.x)(image,!1)}handleClick(event){if(this.props.config.events&&this.props.config.events.onClick){event.stopPropagation();var params=Image_objectSpread({},this.props.config.events.onClick,{selfConfig:this.props.config,SelfOrigConfig:this.originalConfig,selfState:this.state,selfHideStatus:this.shouldHide()});EventsService.a.trigger(this.props.config.events.onClick.name,[params,this.props.config])}this.props.onClick&&this.props.onClick(event)}}function Menu_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Menu_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Menu_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Menu_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>Image_Image,"Image");var Menu_require=__webpack_require__(50),Menu_InlineBlock=Menu_require.InlineBlock,Menu_Block=Menu_require.Block;class Menu_SupportButton extends react.Component{constructor(props){super(props),"searchEngines"==this.props.config.menuType?(this.search=ServiceFactory.a.get(Consts.mc),this.state={options:this.searchEngines2Options(),selectedOption:this.search.getTempOrCurrentSearchEngineIndex(),isOpen:!1,menuStyle:{},style:{}}):this.state={isOpen:!1,menuStyle:{},style:{}}}componentDidMount(){if(this.mounted=!0,this.props.config.attributes){var elem=react_dom.findDOMNode(this);if(elem)for(var att in this.props.config.attributes)elem.setAttribute(att,this.props.config.attributes[att])}register.bind(this)(this.props.config.behaviours)}componentWillUnmount(){this.mounted=!1,unregister.bind(this)(this.props.config.behaviours)}handleMenuButtonClick(){this.setState({isOpen:!this.state.isOpen})}renderMenu(){var components={};components="searchEngines"==this.props.config.menuType?this.getSearchEnginesMenu(this.state.options):this.props.config.components;var menu=Object.keys(components).map((key,index)=>{var component=components[key],ComponentObject=ComponentsFactory.a.createComponent(component.type);return react.createElement(Menu_Block,{key:key},react.createElement(ComponentObject,{config:component}))});return react.createElement(Menu_Block,{style:Menu_objectSpread({},this.props.config.menuStyle,{},this.state.menuStyle),key:"menu"},menu,react.createElement("engines",null))}render(){var boundedClick=this.handleMenuButtonClick.bind(this),menu=this.state.isOpen?this.renderMenu():null;return this.props.config.animateClass&&(menu=react.createElement(react_addons_css_transition_group_default.a,{transitionName:this.props.config.animateClass,transitionEnterTimeout:0,transitionLeaveTimeout:0},menu)),react.createElement(Menu_InlineBlock,null,react.createElement(Item_Item,{onClick:boundedClick,config:this.props.config}),menu)}getSearchEnginesMenu(options){for(var component={},i=0;i<options.length;i++)component[options[i].value]={},component[options[i].value].type="Input",component[options[i].value].inputType="button",component[options[i].value].style=Menu_objectSpread({},this.props.config.menuItemStyle,{},options[i].style),component[options[i].value].style.backgroundImage||(component[options[i].value].text=this.capitalizeFirstLetter(options[i].value)),this.props.config.displayLogos||(component[options[i].value].text=this.capitalizeFirstLetter(options[i].value),component[options[i].value].style.backgroundImage&&delete component[options[i].value].style.backgroundImage),component[options[i].value].events={},component[options[i].value].events.onClick={},component[options[i].value].events.onClick.name=SET_SEARCH_ENGINE,component[options[i].value].events.onClick.engineId=options[i].value;return component}searchEngines2Options(){for(var options=[],engines=this.search.getEngines(),i=0;i<Object.keys(engines).length;i++)options.push({label:engines[i].logo?"":engines[i].shortName,value:engines[i].id,style:engines[i].logo?{backgroundImage:`url(content/images/${engines[i].logo})`}:{}});return options}capitalizeFirstLetter(string){return string.substring(0,1).toUpperCase()+string.slice(1)}}ComponentsFactory.a.add(()=>Menu_SupportButton,"Menu");__webpack_require__(103);function TabsManager_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}class TabsManager_TabsManager extends Container_Container{constructor(props){props.config.components=props.config.components.sort((a,b)=>{var a_order=a.tabSettings&&a.tabSettings.order||0;return(b.tabSettings&&b.tabSettings.order||0)-a_order});var tabs=props.config.components.map(comp=>comp.tabSettings?comp:function TabsManager_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?TabsManager_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):TabsManager_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},comp,{tabSettings:{title:comp.id}}));props.config.components=[{type:"Container",style:props.config.tabsWrapperStyle,components:[].concat(...tabs.map((tab,i)=>[{type:"Text",behaviours:[{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:props.config.selectedTabStyle},c:{arg:"index",op:"=",val:i}},{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:props.config.tabStyle},c:{arg:"index",op:"!=",val:i}}],text:tab.tabSettings.title,style:tab.tabSettings.default?props.config.selectedTabStyle:props.config.tabStyle,hover:props.config.tabStyleHover,events:{onClick:{name:`${props.config.id}TAB_SELECTED`,index:i}}},{type:"Container",style:props.config.tabSeparatorStyle}])).slice(0,-1)},{type:"Container",style:{flex:1},components:tabs.map((tab,i)=>({type:"Container",behaviours:[{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:{display:"unset"}},c:{arg:"index",op:"=",val:i}},{on:"TAB_SELECTED",do:"SET_CONFIG",config:{style:{display:"none"}},c:{arg:"index",op:"!=",val:i}}],style:{display:tab.tabSettings.default?"unset":"none"},components:[tab]}))}],super(props)}}function SideMenu_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function SideMenu_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?SideMenu_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):SideMenu_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>TabsManager_TabsManager,"TabsManager");class SideMenu_SideMenu extends react.Component{constructor(props){super(props);var containerWidth=parseInt(this.props.config.style.width)||0,wrapperStyleWidth=containerWidth+36,containerStyleHide=-1*containerWidth;this.wrapperStyle={position:"relative",top:"30px",width:`${wrapperStyleWidth}px`,height:"100%",transition:"left .4s ease"},this.widgetContainerStyle={width:`${containerWidth}px`,height:"100%",zIndex:"10",transition:"1s",flexFlow:"row nowrap",userSelect:"none"},this.hideWidgetContainerStyle={left:`${containerStyleHide}px`},this.showWidgetContainer={left:"0px"},this.buttonStyle={position:"absolute",background:"url(/../content/images/converter/tab-arrow-FF691E.svg) no-repeat",width:"36px",height:"36px",right:"0",top:"0",zIndex:"11",cursor:"pointer",transition:"transform .4s ease"},this.hideButtonStyle={transform:"rotate(180deg)"},this.showButtonStyle={transform:"rotate(0deg)"},this.state={toggleSideMenu:!1},this.toggleWidgetContainer={false:this.hideWidgetContainerStyle,true:this.showWidgetContainer},this.finalButtonStyle={false:this.hideButtonStyle,true:this.showButtonStyle},this.buttonTrack={false:"close",true:"open"}}handleClick(){this.setState({toggleSideMenu:!this.state.toggleSideMenu}),this.wrapperStyle=SideMenu_objectSpread({},this.wrapperStyle,{},this.toggleWidgetContainer[this.state.toggleSideMenu]),this.buttonStyle=SideMenu_objectSpread({},this.buttonStyle,{},this.finalButtonStyle[this.state.toggleSideMenu]);var trackAction=this.buttonTrack[this.state.toggleSideMenu];ServiceFactory.a.get(Consts.Lc).trackStatusEvent("side_menu_widget","button_click",trackAction,{},null,null,{})}mergeChildrenProps(){var childrenProps=this.props.config.childrenProps;if(childrenProps&&Object(Utils.H)(childrenProps)){var props=childrenProps.props||{},comps=("deepAssign"===childrenProps.method?objectAssignDeep_default.a:Object.assign,this.props.config.components);if(Array.isArray(comps))for(var comp in comps)comps.hasOwnProperty(comp)&&(comps[comp]=SideMenu_objectSpread({},props,{},comps[comp]))}}render(){var children=this.createComponents(),widgetContainer=react.createElement("div",{key:this.id,style:this.widgetContainerStyle},children),openCloseButton=react.createElement("img",{onClick:this.handleClick.bind(this),style:this.buttonStyle});return react.createElement("div",{style:this.wrapperStyle},openCloseButton,widgetContainer)}createComponents(){var childrenComponents,self=this;if(this.props.config.components){this.mergeChildrenProps();var components=this.props.config.components,forceReplace=this.forceReplace||this.props.forceReplace;childrenComponents=Object.keys(this.props.config.components).map(componentKey=>{if(Object(Utils.H)(components[componentKey])&&components[componentKey].type){if(components[componentKey].hasOwnProperty("renderForEach"))return self.createComponentForEach(components[componentKey],componentKey);var ComponentObject=ComponentsFactory.a.createComponent(components[componentKey].type);return react.createElement(ComponentObject,{key:componentKey,config:components[componentKey],forceReplace:forceReplace})}})}return childrenComponents}}ComponentsFactory.a.add(()=>SideMenu_SideMenu,"SideMenu");var styled_components_browser_esm=__webpack_require__(54),isEmpty=__webpack_require__(214),isEmpty_default=__webpack_require__.n(isEmpty),slicedToArray=(__webpack_require__(152),__webpack_require__(85),__webpack_require__(108)),slicedToArray_default=__webpack_require__.n(slicedToArray),trackingmoreAPI=(APIKey,trackingNumber)=>(function getCarrierCode(APIKey,trackingNumber){var options={url:Consts.Kb,method:"post",headers:{"Content-Type":"application/json","Trackingmore-Api-Key":APIKey},data:{tracking_number:trackingNumber}};return Object(HttpService.a)(options).then(_ref=>{var data=_ref.data;if(!data.meta.code.toString().match(/20[01]/))throw new Error(`API carrier detection failed with code ${data.meta.code}`);return data.data[0].code})})(APIKey,trackingNumber).then(carrierCode=>(function getPackageTrackings(APIKey,trackingNumber,carrierCode){var retryCount=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var options={url:`${Consts.Lb}/${carrierCode}/${trackingNumber}`,method:"get",headers:{"Content-Type":"application/json","Trackingmore-Api-Key":APIKey}};return Object(HttpService.a)(options).then(_ref2=>{var data=_ref2.data,metaCode=data.meta.code.toString(),isPending="pending"===get_default()(data,"data.status");if(metaCode.match(/4031/)&&retryCount<2)return createAPITracking(APIKey,trackingNumber,carrierCode).then(()=>getPackageTrackings(APIKey,trackingNumber,carrierCode,retryCount+1));if(metaCode.match(/20[01]/)&&retryCount<2)return isPending?createAPITracking(APIKey,trackingNumber,carrierCode).then(()=>getPackageTrackings(APIKey,trackingNumber,carrierCode,retryCount+1)):function _formatResponseData(res){var mainStatus=null;function getTrackingsFormatted(property){if(!res[property]||!res[property].trackinfo)return[];var carrierCode=res[property].carrier_code;return res[property].trackinfo.map(tracking=>{var _tracking$Date$split=tracking.Date.split(" "),_tracking$Date$split2=slicedToArray_default()(_tracking$Date$split,2),date=_tracking$Date$split2[0],time=_tracking$Date$split2[1];return{date:date.replace(/-/gi,"/"),time:time,details:tracking.Details,statusDescription:tracking.StatusDescription,carrierCode:carrierCode}})}if(res.status&&"notfound"===(mainStatus=res.status))throw res.substatus;var trackings=[...getTrackingsFormatted("origin_info"),...getTrackingsFormatted("destination_info")];return trackings.sort((a,b)=>a.date<b.date?1:-1),{mainStatus:mainStatus,trackings:trackings}}(data.data);throw new Error(`API package tracking failed with code ${data.meta.code}`)})})(APIKey,trackingNumber,carrierCode));function createAPITracking(APIKey,trackingNumber,carrierCode){var options={url:Consts.Mb,method:"post",headers:{"Content-Type":"application/json","Trackingmore-Api-Key":APIKey},data:{tracking_number:trackingNumber,carrier_code:carrierCode}};return Object(HttpService.a)(options)}var StyledTimelineStatus=styled_components_browser_esm.a.div`
display:flex;
border-left: 1px solid ${props=>props.theme.primaryColor};
padding-bottom: 30px;
height: auto;
width: 100%;
line-height: 18px;
color: ${props=>props.theme.primaryColor};
strong{
    opacity: 0.4;
}
span{
    font-weight:300;
    opacity: 0.4;
}
&::before{
    box-sizing:border-box;
    content:'';
    min-width:12px;
    height:12px;
    border-radius:50%;
    border: 1px solid ${props=>props.theme.primaryColor};
    transform:translateX(-50%);
    background-color:white;
    
}
div.date{
    box-sizing:content-box;
    padding-left: 6px;
    min-width:63px;
    padding-right:12px;
    strong{
        float:right;
    }
}

.date strong:empty{
    display:none;
    ~ br{
    display:none;
    }
    ~ span{
    font-weight:bold;   
    }
}

`,PackageTracker_TimelineStatus=_ref=>{var status=_ref.status,theme=_ref.theme;return react_default.a.createElement(StyledTimelineStatus,{className:"timeline-status",theme:theme},react_default.a.createElement("div",{className:"date"},react_default.a.createElement("strong",null,status.time),react_default.a.createElement("br",null),react_default.a.createElement("span",null,status.date)),react_default.a.createElement("div",{className:"description"},react_default.a.createElement("strong",null,status.statusDescription),react_default.a.createElement("br",null),react_default.a.createElement("span",null,status.details)))},StyledRecentTrackingNumber=styled_components_browser_esm.a.div`
border: 1px solid blue;
display:inline-block;
    padding: 2px 5px;
    background-color: #6b9fd7;
    color: #fff;
    border: 1px solid #2769b0;
    border-radius: 3px;
    font-size: 10px;
    display: inline-block;
    margin: 0 5px 5px 0;
    -webkit-transition: all .3s ease 0s;
    transition: all .3s ease 0s;
    &:hover{
        background-color: #5293d7;
    }
    span{
        display: inline-block;
    line-height: 10px;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    max-width: 170px;
    }
    button{
        margin-left: 2px;
    background-color: hsla(0,0%,4%,.2);
    border: none;
    border-radius: 50%;
    display: inline-block;
    height: 12px;
    width: 12px;
    outline: 0;
    padding:0;
    user-select: none;
    color:white;
    vertical-align: text-bottom;
    font-size:7px;
    font-weight:bold;
     &:hover{
        opacity: .8;
     }
    }

`,PackageTracker_RecentTrackingNumber=_ref=>{var trackingNumber=_ref.trackingNumber,onSelection=_ref.onSelection,onDelete=_ref.onDelete;return trackingNumber?react_default.a.createElement(StyledRecentTrackingNumber,{onClick:onSelection},react_default.a.createElement("span",null,trackingNumber),react_default.a.createElement("button",{type:"button",onClick:e=>onDelete(e)},"X")):null},StyledLoadingBar=styled_components_browser_esm.a.div`
box-sizing:border-box;
position: relative;
@keyframes loading {
    from {
        left: 50%;
        width: 0;
        z-index: 100
    }

    33.3333% {
        left: 0;
        width: 100%;
        z-index: 10
    }

    to {
        left: 0;
        width: 100%
    }
}
.loading-bar {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 6px;
    background-color: #394a6d;
}
.bar {
    content: "";
    display: inline;
    position: absolute;
    width: 0;
    height: 100%;
    left: 50%;
    text-align: center;
}
.bar:nth-child(1) {
    background-color: #394a6d;
    animation: loading 2s linear infinite;
}
.bar:nth-child(2) {
    background-color: #3c9d9b;
    animation: loading 2s linear 0.66s infinite;
}
.bar:nth-child(3) {
    background-color: #52de97;
    animation: loading 2s linear 1.33s infinite;
}


`,PackageTracker_LoadingBar=()=>react_default.a.createElement(StyledLoadingBar,{className:"loading-bar-container"},react_default.a.createElement("div",{className:"loading-bar"},react_default.a.createElement("div",{className:"bar"}),react_default.a.createElement("div",{className:"bar"}),react_default.a.createElement("div",{className:"bar"}))),QuickLinks_Link=_ref2=>{var link=_ref2.link,imgUrl=link.imgUrl,linkUrl=link.linkUrl;return react_default.a.createElement("a",{href:linkUrl,target:"_blank",rel:"noopener noreferrer"},react_default.a.createElement("img",{src:imgUrl,className:"carrierLogoImage",alt:"quick-link"}))};var PackageTracker_QuickLinks=_ref=>{var _ref$links=_ref.links,links=void 0===_ref$links?[]:_ref$links,title=_ref.title;return react_default.a.createElement("div",{className:"linksContainer"},react_default.a.createElement("span",null,title),function _renderLinks(links){return links.map((link,index)=>{var id=index;return react_default.a.createElement(QuickLinks_Link,{key:id,link:link})})}(links))};function PackageTracker_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function PackageTracker_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PackageTracker_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PackageTracker_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}class PackageTracker_PackageTracker extends react_default.a.Component{constructor(props){super(props);var config=this.props.config;config.hide&&(this.render=()=>null),this.storageKey=`${config.id||"PackageTracker"}__recentTrackingNumbers`,this.configurable={placeholder:get_default()(this.props,"config.elements.searchBox.placeholderTextContent","Enter Tracking Number"),buttonText:get_default()(this.props,"config.elements.submitButton.textContent","Track"),APIkey:get_default()(this.props,"config.APIKey"),themePrimaryColor:get_default()(this.props,"config.theme.primaryColor","#1a237e"),logoImageDisplay:get_default()(this.props,"config.elements.logoImage.display",!0),logoImageSrcUrl:get_default()(this.props,"config.elements.logoImage.srcUrl","http://d2gbn9pgmbetx7.cloudfront.net/package-tracker/package-tracker-logo.svg"),logoImageMargin:get_default()(this.props,"config.elements.logoImage.margin","30px 45px 20px 83px"),logoImageWidth:get_default()(this.props,"config.elements.logoImage.width","139px"),logoImageHeight:get_default()(this.props,"config.elements.logoImage.height","100px"),quickLinksDisplay:get_default()(this.props,"config.elements.quickLinks.display",!0),quickLinksTitleTextContent:get_default()(this.props,"config.elements.quickLinks.titleTextContent","Shipping Service"),quickLinksLinks:get_default()(this.props,"config.elements.quickLinks.links",[])},this.state={inputTerm:"",trackings:[],currentTrackingNumber:"",trackingStatus:"",recentTrackingNumbers:ServiceFactory.a.get(Consts.Vb).get(this.storageKey)||{},isLoading:!1},this.theme={primaryColor:this.configurable.themePrimaryColor,successColor:"#56b883",failureColor:"#ca6e6e",emptyColor:"#a7a7a7",paddingSides:15},this.mapStatusToClassName={notfound:"empty",pending:"primary",transit:"primary",pickup:"primary",delivered:"success",undelivered:"failure",exception:"failure",expired:"failure",apiFailure:"empty",loading:"primary"},this.trackPackage=trackingmoreAPI.bind(this,this.configurable.APIkey),this._css=this.getMainCss(),this.onInputChange=this.onInputChange.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.handleRecentTrackingNumberSelection=this.handleRecentTrackingNumberSelection.bind(this),this.handleRecentTrackingNumberDelete=this.handleRecentTrackingNumberDelete.bind(this),this.storageAdd=this.storageAdd.bind(this),this.fireEvent=this.fireEvent.bind(this),this.submit=this.submit.bind(this),this.getUpdatedRecentTrackingNumbers=this.getUpdatedRecentTrackingNumbers.bind(this),this.getStatusForError=this.getStatusForError.bind(this)}onInputChange(_ref){var target=_ref.target;this.setState({inputTerm:target.value.toString().trim()})}onFormSubmit(e){e.preventDefault(),this.fireEvent(Consts.Rb),this.submit()}getMainCss(){var _this$theme=this.theme,primaryColor=_this$theme.primaryColor,successColor=_this$theme.successColor,failureColor=_this$theme.failureColor,emptyColor=_this$theme.emptyColor,paddingSides=_this$theme.paddingSides;return styled_components_browser_esm.a.div`
        padding-top:30px;
        img.logo{
            width:${this.configurable.logoImageWidth};
            height:${this.configurable.logoImageHeight};
            margin: ${this.configurable.logoImageMargin};
        }
        .linksContainer{
            display: flex;
            justify-content:center;
            align-items: center;
            margin: 0 0 18px 0;
            padding: 0 ${paddingSides}px;
            span{
                color: ${primaryColor};
                font-size: 13px;
                margin-right: 12px;
                font-weight:600;
            }
            img{
                width: 39px;
                padding-left: 5px;
            }
        }
        .recentsContainer{
           padding: 0 ${paddingSides}px;

        }
       form{
           padding: 0 ${paddingSides}px;
           margin-bottom:30px;
           input{
               width:100%;
               margin-bottom:8px;
               background-color: #f6f6fa;
               height: 35px;
               border: solid 2px transparent;
               border: solid 1px #eaeaea;
               border-radius: 4px;
               outline: none;
               padding-left: 10px;
               &:visited{
                   background-color:red;
               }

               &:focus{
                border: solid 2px ${primaryColor};
                padding-left:9px;
               }
               &::placeholder{
                color: #cacaca;
               }
           }
           .button-container{
               display:flex;
               flex-direction:row-reverse;
           }
           button{
               cursor:pointer;
               width:31%;
               background-color:${primaryColor};
               color: white;
               border-radius: 4px;
               padding: 6px 0;
               font-size:14px;
               border:none;
               &:focus{
                outline:none;
               }
           }
       }

        .trackingResponse{
            .headerTrackingNumber{
                color:white;
                margin: 0;
                text-align: center;
                padding: 9px 0;
                font-size: 20px;
                &:empty{
                    display:none;
                }
            }

            &.primary{
                .headerTrackingNumber{
                background-color: ${primaryColor};
                }
                .trackings .timeline-status:first-child{
                    span,strong{
                        opacity:1;
                    }
                }

            } 
            &.success{
                .headerTrackingNumber{
                    background-color:${successColor};
                }
                .trackings .timeline-status:first-child{
                    color:${successColor};
                    span,strong{
                        opacity:1;
                    }
                    ::before{
                        background-color:${successColor};
                        border: 1px solid ${successColor};
                    }
                }
                
            } 
            &.failure{
                .headerTrackingNumber{
                    background-color:${failureColor};
                }
                .trackings .timeline-status:first-child{
                    color:${failureColor};
                    span,strong{
                        opacity:1;
                    }
                    ::before{
                        background-color:${failureColor};
                        border: 1px solid ${failureColor};
                    }
                }

            } 
            &.empty{
                .headerTrackingNumber{
                    background-color:${emptyColor};
                }
                .trackings .timeline-status:first-child{
                    color:${emptyColor};
                    border:none;
                    span,strong{
                        opacity:1;
                    }
                    ::before{
                        background-color:${emptyColor};
                        border: 1px solid ${emptyColor};
                    }
                }

            } 
        }

        .trackings{
            padding: 0 ${paddingSides}px 0 ${paddingSides+12}px;
            margin-top: 26px;
            max-height:200px;
            overflow-x:visible;
            overflow-y: auto;
        }
       
        
        `}getUpdatedRecentTrackingNumbers(){var state=this.state,currentTrackingNumber=state.inputTerm,recents=PackageTracker_objectSpread({},state.recentTrackingNumbers);return!recents[currentTrackingNumber]&&Object.keys(recents).length<5&&(this.storageAdd(currentTrackingNumber),recents[currentTrackingNumber]=currentTrackingNumber),recents}getStatusForError(err){var errorMessage={notfound001:"Information Received/info received. The package is about to be picked up",notfound002:"There is no tracking information for this package"}[err]||"there is no package tracking info available yet.",today=new Date;return{date:`${today.getFullYear()}/${today.getMonth()+1}/${today.getDate()}`,statusDescription:"Not Found",details:errorMessage,carrierCode:null}}submit(){var currentTrackingNumber=this.state.inputTerm,recents=this.getUpdatedRecentTrackingNumbers();this.setState({isLoading:!0,recentTrackingNumbers:recents,currentTrackingNumber:currentTrackingNumber,trackingStatus:"loading",trackings:[]}),this.trackPackage(currentTrackingNumber).then(releventData=>{this.fireEvent(Consts.Qb),this.setState({trackings:releventData.trackings,currentTrackingNumber:currentTrackingNumber,trackingStatus:releventData.mainStatus,isLoading:!1})}).catch(err=>{this.fireEvent(Consts.Pb);var statusForError=this.getStatusForError(err);this.setState({trackings:[statusForError],currentTrackingNumber:currentTrackingNumber,trackingStatus:"apiFailure",isLoading:!1})})}storageAdd(trackingNumber){this.fireEvent(Consts.Nb);var recents=PackageTracker_objectSpread({},this.state.recentTrackingNumbers);recents[trackingNumber]=trackingNumber,ServiceFactory.a.get(Consts.Vb).set(this.storageKey,recents)}fireEvent(event){ServiceFactory.a.get(Consts.Lc).trackStatusEvent(event)}handleRecentTrackingNumberSelection(trackingNumber){this.fireEvent(Consts.Ob),this.setState({inputTerm:trackingNumber},()=>this.submit())}handleRecentTrackingNumberDelete(trackingNumber,e){var recentTrackingNumbers=this.state.recentTrackingNumbers;e.stopPropagation();var recents=PackageTracker_objectSpread({},recentTrackingNumbers);delete recents[trackingNumber],ServiceFactory.a.get(Consts.Vb).set(this.storageKey,recents),this.setState({recentTrackingNumbers:recents})}renderRecentTrackingNumbers(){var state=this.state;return Object.keys(state.recentTrackingNumbers).map(trackingNumber=>react_default.a.createElement(PackageTracker_RecentTrackingNumber,{key:trackingNumber,trackingNumber:trackingNumber,onSelection:()=>this.handleRecentTrackingNumberSelection(trackingNumber),onDelete:e=>this.handleRecentTrackingNumberDelete(trackingNumber,e)}))}renderTrackings(){return this.state.trackings.map((status,index)=>{var id=index+status;return react_default.a.createElement(PackageTracker_TimelineStatus,{theme:this.theme,status:status,key:id})})}renderLinks(){var _this$configurable=this.configurable,quickLinksLinks=_this$configurable.quickLinksLinks,quickLinksTitleTextContent=_this$configurable.quickLinksTitleTextContent;return react_default.a.createElement(PackageTracker_QuickLinks,{links:quickLinksLinks,title:quickLinksTitleTextContent})}renderLogo(){var state=this.state;return isEmpty_default()(state.trackingStatus)?react_default.a.createElement("img",{className:"logo",src:this.configurable.logoImageSrcUrl,alt:"package-tracker-logo"}):null}render(){var StyledPackageTracker=this._css,state=this.state;return react_default.a.createElement(StyledPackageTracker,null,this.configurable.logoImageDisplay?this.renderLogo():null,this.configurable.quickLinksDisplay?this.renderLinks():null,react_default.a.createElement("div",{className:"recentsContainer"},this.renderRecentTrackingNumbers()),react_default.a.createElement("form",{onSubmit:this.onFormSubmit},react_default.a.createElement("input",{required:!0,type:"text",placeholder:this.configurable.placeholder,value:state.inputTerm,onChange:this.onInputChange}),react_default.a.createElement("div",{className:"button-container"},react_default.a.createElement("button",{type:"submit"},this.configurable.buttonText))),state.isLoading&&react_default.a.createElement(PackageTracker_LoadingBar,null),react_default.a.createElement("div",{className:`trackingResponse ${this.mapStatusToClassName[state.trackingStatus]||"primary"}`},react_default.a.createElement("h3",{className:"headerTrackingNumber"},state.currentTrackingNumber),react_default.a.createElement("div",{className:"trackings"},!isEmpty_default()(state.trackings)&&this.renderTrackings())))}}function DropdownRedirectLinks_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function DropdownRedirectLinks_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?DropdownRedirectLinks_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):DropdownRedirectLinks_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}ComponentsFactory.a.add(()=>PackageTracker_PackageTracker,"PackageTracker");class DropdownRedirectLinks_DropdownRedirectLinks extends react.Component{constructor(props){super(props),this.wrapperStyle={margin:"0px 0px 0px 25px",display:"flex",flexDirection:"row",alignItems:"center",width:"135px",height:"30px",backgroundColor:"#fefefe",justifyContent:"space-between",fontFamily:"sans-serif",borderRadius:"3px",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.07)"},this.linkStyle={float:"none",padding:"8px 16px 6px 6px",textDecoration:"none",display:"block",textAlign:"left",color:"#4386fc",letterSpacing:"-0.2px",fontFamily:"sans-serif"},this.linkLogoStyle={height:"14px",padding:"0 6px 0 0"},this.linkContainerStyle={top:"90%",position:"absolute",maxWidth:"400px",overflow:"hidden",boxShadow:"0 1px 1px 0 rgba(0, 0, 0, 0.26)",minWidth:"135px",backgroundColor:"#fefefe"},this.buttonContainerStyle={verticalAlign:"middle",width:"100%",padding:"0px 5px 0px 5px"},this.buttonLogoStyle={width:"12px",height:"6px",float:"right",textAlign:"center",verticalAlign:"middle",margin:"5px"},this.buttonTextStyle={color:"#4386fc",fontSize:"13px",letterSpacing:"-0.2px",marginLeft:"7px",textAlign:"center",verticalAlign:"middle"},this.hoverLinkStyle={backgroundColor:"#f2f2f2"},this.wrapperStyle=this.getStyle(this.wrapperStyle,"backgroundColor","buttonBackgroundColor"),this.wrapperStyle=this.getStyle(this.wrapperStyle,"height","buttonHeight"),this.linkContainerStyle=this.getStyle(this.linkContainerStyle,"top","dropdownTop"),this.linkContainerStyle=this.getStyle(this.linkContainerStyle,"backgroundColor","linkBackgroundColor"),this.state={showComponent:!1,hoveredLinkIndex:void 0},this.eventType="toolbar_button_click",this.buttonTrack={false:"open",true:"close"}}getStyle(baseStyle,styleKey,styleKeyInConfig){var additionToStyle=this.props.config.style[styleKeyInConfig]||!1;return additionToStyle?DropdownRedirectLinks_objectSpread({},baseStyle,{[styleKey]:additionToStyle}):baseStyle}handleClick(){this.setState({showComponent:!this.state.showComponent});var trackAction=this.buttonTrack[this.state.showComponent];ServiceFactory.a.get(Consts.Lc).trackStatusEvent(this.eventType,"DropDown",trackAction,null,null,null,{})}handleLinkClick(linkText){ServiceFactory.a.get(Consts.Lc).trackStatusEvent(this.eventType,"toolbar_menu_link_click",linkText,null,null,null,{})}componentDidMount(){document.addEventListener("click",this.handleClickOutsideComponent.bind(this))}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideComponent.bind(this))}handleClickOutsideComponent(event){this.isClickOutsideComponent(event)&&this.hideLinks()}isClickOutsideComponent(clickEvent){return!react_dom.findDOMNode(this).contains(clickEvent.target||clickEvent[0]&&clickEvent[0].target)}hideLinks(){this.setState({showComponent:!1})}markLinkAsHovered(index){this.setState({hoveredLinkIndex:index})}markLinkAsUnHovered(){this.setState({hoveredLinkIndex:void 0})}createLinks(hoveredLinkIndex){var _this=this,returnHTML=[];if(!this.props.config.links||!this.state.showComponent)return returnHTML;for(var links=this.props.config.links,numOfLinks=links.length,_loop=function _loop(i){var linkUrl=links[i].linkUrl,linkLogo=links[i].linkLogo,linkText=links[i].linkText,linkStyle=_this.linkStyle;hoveredLinkIndex===i&&(linkStyle=DropdownRedirectLinks_objectSpread({},_this.linkStyle,{},_this.hoverLinkStyle));var HTMLLink=react.createElement("a",{onMouseEnter:()=>{_this.markLinkAsHovered(i)},onMouseLeave:()=>{_this.markLinkAsUnHovered()},onClick:()=>{_this.handleLinkClick(linkText)},key:i,target:"_blank",rel:"noopener noreferrer",href:linkUrl,style:linkStyle},react.createElement("img",{src:linkLogo,style:_this.linkLogoStyle}),linkText);returnHTML.push(HTMLLink)},i=0;i<numOfLinks;i++)_loop(i);return returnHTML}render(){var links=this.createLinks(this.state.hoveredLinkIndex);return react.createElement("div",{style:this.wrapperStyle},react.createElement("div",{onClick:this.handleClick.bind(this),style:this.buttonContainerStyle},react.createElement("span",{style:this.buttonTextStyle},this.props.config.buttonText),react.createElement("img",{src:this.props.config.buttonLogo,style:this.buttonLogoStyle})),react.createElement("div",{style:this.linkContainerStyle},links))}}ComponentsFactory.a.add(()=>DropdownRedirectLinks_DropdownRedirectLinks,"DropdownRedirectLinks");__webpack_require__(104);var StyledSearchOption=styled_components_browser_esm.a.div`

  display: flex;
  justify-content: left;
  align-items: center;
  height: 27px;
  padding-left: 16px;
  img.avatar {
    display: inline-block;
    width: 20px;
    height: 20px;
    background-size: cover;
    background-position: top center;
    border-radius: 50%;
    margin-right: 5px;
  }

   span {
    font-size: 14px;
    font-weight: 600;
  }

`,QuickSearch_SearchOption=_ref=>{var option=_ref.option,onClick=_ref.onClick,titleTextColor=option.titleTextColor,iconUri=option.iconUri,title=option.title,inlineStyle=titleTextColor?{color:titleTextColor}:{};return react_default.a.createElement("div",{onClick:onClick},react_default.a.createElement(StyledSearchOption,null,iconUri&&react_default.a.createElement("img",{alt:"provider-icon",className:"avatar",src:iconUri}),react_default.a.createElement("span",{style:inlineStyle},title)))};class SelectMenu_SelectMenu extends react_default.a.Component{constructor(props){super(props),this.state={isOpen:!1},this.selectDOMElementRef=null,this.setRef=element=>{this.selectDOMElementRef=element},this.mainCss=this.getMainCss(),this.optionsClassNameMap={true:"options-when-menu-open",false:"options"},this.selectedOptionClassNameMap={true:"selected-option-when-menu-open",false:"selected-option"},this.toggleIsOpen=this.toggleIsOpen.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.handleSelectedClick=this.handleSelectedClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleClickOutside,!1)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside,!1)}getMainCss(){return styled_components_browser_esm.a.div`
        display: inline-block;
        position:relative;
        width: 149px;
        &:hover{
          cursor: pointer;
        }

        .options{
          box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
          border-radius: 14px;
          background-color: #fefefe;
            
          &-when-menu-open{
            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
          width:100%;

          }
        }

        .selected-option{
          border-radius: 14px;
          border: solid 1px #e8e8e8;
          &-when-menu-open{
              border-radius:14px 14px 0 0 ;
              border: solid 1px #e8e8e8;
              border-bottom:none;
          }
        }

        .other-options{
            max-height:150px;
            overflow:auto;
            background-color: #fefefe;
            position: absolute;
            left:0;
            width:100%;
            border:solid 1px #e8e8e8;
            border-radius:0 0 14px 14px;
            box-shadow: 0 2px 2px 0 rgba(62, 62, 62, 0.08);
            & > * {
                &:not(:last-child){
                    border-bottom:solid 1px #e8e8e8;
            }

            &:hover{
                background-color: #f3f4f5;
            }
          }
        }

        svg.icon-menu {
            position: absolute;
            right: 13px;
            top: 11px;
            fill:  #e3e3e3;
            width: 10px;
            z-index: 1;
        }

      `}toggleIsOpen(){var isOpen=this.state.isOpen;this.setState({isOpen:!isOpen})}handleClickOutside(event){event.stopPropagation(),this.selectDOMElementRef.contains(event.target)||this.setState({isOpen:!1})}handleSelectedClick(e){e.stopPropagation(),this.toggleIsOpen()}renderMenuIcon(isPropsArray){return isPropsArray?react_default.a.createElement("svg",{className:"icon-menu",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 11 8"},react_default.a.createElement("path",{fillRule:"evenodd",d:"M5.5 8L0 0h11z"})):null}render(){var children=this.props.children,isPropsArray=Object(Utils.A)(children),selectedOption=isPropsArray?children[0]:children,selectedOptionStopPropagation=react_default.a.cloneElement(selectedOption,{onClick:this.handleSelectedClick}),CssWrapper=this.mainCss,isOpen=this.state.isOpen;return react_default.a.createElement("div",{ref:this.setRef,onClick:this.toggleIsOpen},react_default.a.createElement(CssWrapper,null,react_default.a.createElement("div",{className:this.selectedOptionClassNameMap[isOpen]},this.renderMenuIcon(isPropsArray),react_default.a.createElement("div",{className:this.optionsClassNameMap[isOpen]},selectedOptionStopPropagation),isPropsArray&&isOpen&&react_default.a.createElement("div",{className:"other-options"},children.slice(1)))))}}class QuickSearch_QuickSearch extends react_default.a.Component{constructor(props){super(props);var config=this.props.config;config.hide&&(this.render=()=>null),this.storageKey=`${config.id||"QuickSearch"}__userSelectedOption`,this.configurable={options:get_default()(this.props,"config.elements.options",[{id:"gmail",title:"Gmail",titleTextColor:"red",iconUri:"http://d2gbn9pgmbetx7.cloudfront.net/quick-mail/gmail-icon.png",searchUrl:"https://mail.google.com/mail/u/0/#search/{{searchTerms}}"}]),headerImageUrl:get_default()(this.props,"config.elements.headerImage.imageUrl"),headerTitleText:get_default()(this.props,"config.elements.headerTitle.textContent","Select Provider"),searchBoxPlaceholder:get_default()(this.props,"config.elements.searchBox.placeholderTextContent","Enter your keywords"),searchBoxTitle:get_default()(this.props,"config.elements.searchBoxTitle.textContent","Search inside your inbox"),submitButtonTextContent:get_default()(this.props,"config.elements.submitButton.textContent","Submit"),submitButtonBackgroundColor:get_default()(this.props,"config.elements.submitButton.backgroundColor","#f64d63"),submitButtonShadowColor:get_default()(this.props,"config.elements.submitButton.shadowColor","rgba(246, 77, 99, 0.41)"),submitButtonTextColor:get_default()(this.props,"config.elements.submitButton.textColor","white")},this.state={options:Object(Utils.d)(this.configurable.options),inputTerm:""};(()=>{var state=this.state,pref=ServiceFactory.a.get(Consts.Vb),selectedOptionIdFromStorage=pref.get(this.storageKey),selectedOptionExistsInOptions=state.options.some(option=>option.id===selectedOptionIdFromStorage);if(selectedOptionExistsInOptions||pref.set(this.storageKey,state.options[0].id),selectedOptionIdFromStorage&&selectedOptionExistsInOptions){var optionsNewOrder=this.moveItemToStart(state.options,option=>option.id===selectedOptionIdFromStorage);this.state.options=optionsNewOrder}})(),this._css=this.getMainCss(),this.onFormSubmit=this.onFormSubmit.bind(this),this.handleUserSelection=this.handleUserSelection.bind(this),this.transformOptionToJsx=this.transformOptionToJsx.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}onFormSubmit(e){e.preventDefault();var state=this.state;if(state.inputTerm){var actionUrlFilled=this.actionUrl.replace(/{{searchTerms}}/gi,state.inputTerm);chrome.tabs.create({active:!0,url:actionUrlFilled})}}getMainCss(){return styled_components_browser_esm.a.div`
        @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&display=swap');
        font-family: 'Open Sans', sans-serif;
        color: #a8a8a8;
        width: 100%;
        /* Layout */
        form {
          width: 296px;
          margin: 0 auto;
          .row {
            &_1 {
              margin: 16px 0;
              display: flex;
              justify-content: space-between;
              align-items: center;
              min-height: 29px;
            }
            &_2 {
              display: flex;
              flex-direction: column;
            }
            &_3 {
              margin: 10px 0;
             
            }
          }

          .loading{
            height:27px;
          }

          .row_2 span {
            margin-bottom: 7px;
            font-size: 13px;
            font-weight: 300;
          }
          .row_1  > span {
            font-size: 16px;
            font-weight: 300;
          }

          .submit-button {
            font-size: 13px;
            width: 102px;
            height: 29px;
            background-color: ${this.configurable.submitButtonBackgroundColor};
            border-radius: 14.5px;
            color: ${this.configurable.submitButtonTextColor};
            border: none;
            font-weight: 300;
            font-style: normal;
            font-stretch: normal;
            line-height: normal;
            letter-spacing: -0.22px;
            &:focus {
              outline: none;
            }
            &:hover {
              cursor: pointer;
            }
            box-shadow:${`0px 7px 9px -2px ${this.configurable.submitButtonShadowColor}`};
          }

          .input-container {
            display: flex;
            justify-content: space-between;
            padding: 5px 9px;

            border-radius: 12px;
            border: solid 1px #dedede;
            input {
              width: 100%;
              border: none;
              background-color: transparent;
              &:focus {
                outline: none;
              }
              ::placeholder {
                color: #e3e3e3;
              }
            }
            svg.icon-search {
            fill: #dedede;
            width: 13px;
            }
          }

          img.header-image {
            width: 20px;
          }

        }

      `}get actionUrl(){return this.state.options[0].searchUrl}handleUserSelection(option){var state=this.state,selectedOptionId=option.id;ServiceFactory.a.get(Consts.Vb).set(this.storageKey,selectedOptionId);var optionsNewOrder=this.moveItemToStart(state.options,opt=>opt.id===selectedOptionId);this.setState({options:optionsNewOrder})}moveItemToStart(originalArray,callback){var array=originalArray,index=array.findIndex(callback),item=array.splice(index,1);return array.unshift(...item),array}handleInputChange(_ref){var target=_ref.target;this.setState({inputTerm:target.value.toString().trim()})}transformOptionToJsx(options){return options.map((option,index)=>{var id=index+option.title;return react_default.a.createElement(QuickSearch_SearchOption,{key:id,option:option,onClick:()=>this.handleUserSelection(option)})})}renderIconSearch(){return react_default.a.createElement("svg",{className:"icon-search",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"},react_default.a.createElement("path",{fillRule:"nonzero",d:"M12.802 12.744L9.654 9.281a5.83 5.83 0 0 0 1.253-3.632C10.907 2.534 8.512 0 5.567 0 2.625 0 .229 2.534.229 5.65c0 3.114 2.396 5.648 5.34 5.648a5.085 5.085 0 0 0 3.059-1.022l3.171 3.49a.673.673 0 0 0 .984.02.768.768 0 0 0 .02-1.042zM5.568 1.474c2.176 0 3.946 1.873 3.946 4.175 0 2.303-1.77 4.176-3.946 4.176S1.62 7.952 1.62 5.649c0-2.302 1.77-4.175 3.947-4.175z"}))}renderHeaderImage(){return this.configurable.headerImageUrl?react_default.a.createElement("img",{alt:"header",className:"header-image",src:this.configurable.headerImageUrl}):null}render(){var state=this.state,StyledQuickSearch=this._css;return react_default.a.createElement(StyledQuickSearch,null,react_default.a.createElement("form",{onSubmit:this.onFormSubmit},react_default.a.createElement("div",{className:"row_1"},this.renderHeaderImage(),react_default.a.createElement("span",null,this.configurable.headerTitleText),react_default.a.createElement(SelectMenu_SelectMenu,null,this.transformOptionToJsx(state.options))),react_default.a.createElement("div",{className:"row_2"},react_default.a.createElement("span",null,this.configurable.searchBoxTitle),react_default.a.createElement("div",{className:"input-container"},react_default.a.createElement("input",{onChange:this.handleInputChange,placeholder:this.configurable.searchBoxPlaceholder,type:"text",value:state.inputTerm}),this.renderIconSearch())),react_default.a.createElement("div",{className:"row_3"},react_default.a.createElement("input",{className:"submit-button",type:"submit",value:this.configurable.submitButtonTextContent}))))}}ComponentsFactory.a.add(()=>QuickSearch_QuickSearch,"QuickSearch");var ConfigurationService=__webpack_require__(109);function client_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}__webpack_require__(532),localStorage.getItem("base")&&document.write(`<base href="${localStorage.getItem("base")}"/>`);var clientsEnvsConfiguration=Consts.sb,conf=ConfigurationService.a,hashObject=Object(Utils.ib)(window.location.hash,"-","_","#"),HtmlVarTag=document.getElementsByTagName("VAR")[0],client_env_=HtmlVarTag&&HtmlVarTag.getAttribute("env")?HtmlVarTag.getAttribute("env"):"client";"object"==typeof hashObject&&(hashObject[Consts.rb]?client_env_=hashObject[Consts.rb]:hashObject[Consts.rb.replace("_","")]&&(client_env_=hashObject[Consts.rb.replace("_","")])),HtmlVarTag&&HtmlVarTag.setAttribute("env",client_env_),conf.load("client").then(class GlobalService_GlobalService{static load(){return new Promise((resolve,reject)=>{window.global=Object(Utils.H)(window.global)?window.global:{},window.global.processSessionId=window.global.processSessionId||Object(index_esm.a)(),BrowserService.a.noAPIs()?resolve():BrowserService.a.getCurrentWindowInfo(win=>{window.global.windowId=win.id,BrowserService.a.getCurrentTabInfo(tab=>{window.global.tabId=tab?tab.id:"",resolve()})})})}}.load).then(()=>{var config=conf.getConfiguration();LoggerService.a.debug("Configuration loaded");var extensionComponentKeys=Object.keys(config.components),loadedApp=!1,childCount=0,envConfig={};if(config.clientsEnvsConfiguration=config.clientsEnvsConfiguration||{},clientsEnvsConfiguration=function client_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?client_ownKeys(source,!0).forEach((function(key){defineProperty_default()(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):client_ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},clientsEnvsConfiguration,{},config.clientsEnvsConfiguration),client_env_&&clientsEnvsConfiguration[client_env_]){envConfig=clientsEnvsConfiguration[client_env_];for(var _loop=function _loop(i){var component=config.components[extensionComponentKeys[i]];if(component.type===envConfig.parentType){if(component.style)try{var body=document.getElementsByTagName("BODY")[0];Object.keys(component.style).forEach(key=>{body.style[key]=component.style[key]})}catch(e){}if(component.rootStyle)try{var root=document.getElementById("root");Object.keys(component.rootStyle).forEach(key=>{root.style[key]=component.rootStyle[key]})}catch(e){}for(var j=0;j<component.components.length;j++){var componentNewTab=component.components[j];if(componentNewTab.id===envConfig.mainWindowId){EventsService.a.on(Consts.yc,(function(){var args=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},pref=ServiceFactory.a.get(Consts.Vb);pref.reloadAll(args.key||!1)})),componentNewTab.components&&(childCount=componentNewTab.components.length);var App=ComponentsFactory.a.createComponent(componentNewTab.type);Object(react_dom.render)(react.createElement(App,{config:componentNewTab}),document.getElementById("root"))}else ServiceFactory.a.load(componentNewTab,client_env_)}loadedApp=!0}else component.type===Consts.A&&ServiceFactory.a.load(component,client_env_)},i=0;!loadedApp&&i<extensionComponentKeys.length;i++)_loop(i)}if(childCount||(loadedApp=!1),loadedApp){var event=envConfig.finishEvent||Consts.z;EventsService.a.trigger(event),LoggerService.a.debug("App bootstrapped")}else{LoggerService.a.debug("App failed to load"),LoggerService.a.track("error",`${client_env_}_comp_missing`);try{BrowserService.a.windowsGetAll(windowsArr=>{Array.isArray(windowsArr)&&(windowsArr.length>1?window.close():BrowserService.a.tabsQuery({currentWindow:!0},tabs=>{tabs&&(tabs.length>1?window.close():window.location.href="about:blank")}))})}catch(e){LoggerService.a.track("error",e.message)}}})}});